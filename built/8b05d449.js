import{k as e,h as t,i,S as a,a as s,O as o,b as r}from"./af8ca8e3.js";import"./265704a6.js";import{a as l,g as n,c as d}from"./486cdaaa.js";import{I as c}from"./628f8eb9.js";
/**
 * Copyright 2018 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */const h=function(t){return class extends t{static get properties(){return{fullscreen:{type:Boolean,attribute:"fullscreen",reflect:!0},fullscreenEnabled:{type:Boolean,attribute:"fullscreen-enabled",reflect:!0}}}render(){return e` <slot></slot> `}constructor(){super(),this.fullscreen=!1,this.fullscreenEnabled=globalThis.document.fullscreenEnabled,globalThis.document.onfullscreenchange=this._handleFullscreenChange.bind(this),this.onfullscreenchange=this._handleFullscreenChange}disconnectedCallback(){super.disconnectedCallback()}static get tag(){return"fullscreen-behaviors"}get fullscreenTarget(){return this}_handleFullscreenChange(e){this.fullscreen=globalThis.document.fullscreenElement===this.fullscreenTarget}toggleFullscreen(e=globalThis.document.fullscreenElement!==this.fullscreenTarget){(!e||document.fullscreenElement&&globalThis.document.exitFullscreen)&&globalThis.document.exitFullscreen(),e&&this.fullscreenTarget.requestFullscreen()}}};class p extends(h(t)){}customElements.define(p.tag,p),
/**
 * Copyright 2018 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
globalThis.AnchorBehaviors=globalThis.AnchorBehaviors||{},globalThis.AnchorBehaviors.getTarget=(e=null)=>{let t=()=>{let e=globalThis.location.hash.substring(1).replace(/^(.+)&?/,"id=$1")||globalThis.location.search.substring(1)||"",t=e?`{"${decodeURI(e).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')}"}`:"{}",i=t&&(e=>{try{JSON.parse(e)}catch(e){return!1}return!0})(t)?JSON.parse(t):{};globalThis.AnchorBehaviors.params=i};return globalThis.AnchorBehaviors.target||(globalThis.AnchorBehaviors.params||("complete"===globalThis.document.readyState&&t(),globalThis.onload=t()),globalThis.AnchorBehaviors.target=globalThis.document.getElementById(globalThis.AnchorBehaviors.params.id)||globalThis.document.getElementById(`#${globalThis.AnchorBehaviors.params.id}`)||globalThis.document.querySelector(`[resource="#${globalThis.AnchorBehaviors.params.id||globalThis.AnchorBehaviors.params.resource}"]`)||globalThis.document.querySelector(`[resource="${globalThis.AnchorBehaviors.params.id||globalThis.AnchorBehaviors.params.resource}"]`)||((e,t)=>{if(e&&(t.id||t.resource)){let i=e.id?e.id.replace(/#/g,""):null,a=e.resource?e.resource.replace(/#/g,""):null,s=t.id?t.id.replace(/#/g,""):null,o=t.resource?t.resource.replace(/#/g,""):null;if(i&&i===s||i&&i===o||a&&a===s||a&&a===o)return e}})(e,globalThis.AnchorBehaviors.params)||null,globalThis.AnchorBehaviors.target&&globalThis.AnchorBehaviors.target.scrollIntoView()),globalThis.AnchorBehaviors.target},
/**
 * Copyright 2018 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
globalThis.AbsolutePositionStateManager=globalThis.AbsolutePositionStateManager||{},globalThis.AbsolutePositionStateManager.requestAvailability=()=>{if(!globalThis.AbsolutePositionStateManager.instance&&globalThis.document){globalThis.AbsolutePositionStateManager.instance=globalThis.document.createElement("absolute-position-state-manager");let e=globalThis.AbsolutePositionStateManager.instance;globalThis.document.body.appendChild(e)}return globalThis.AbsolutePositionStateManager.instance};class u extends t{static get tag(){return"absolute-position-state-manager"}static get properties(){return{scrollTarget:{type:Object},elements:{type:Array},__observer:{type:Object},__timeout:{type:Object},__timeout2:{type:Object}}}constructor(){super(),this.windowControllers=new AbortController,this.elements=[],this.__timeout=!1,this.__observer=new MutationObserver((e=>this.checkMutations(e)))}loadElement(e){this.elements.length<1&&(this.__observer.observe(document,{attributes:!0,childList:!0,subtree:!0,characterData:!0}),this.updateElements(),this.windowControllers=new AbortController,globalThis.document.addEventListener("load",this.updateElements.bind(this),{signal:this.windowControllers.signal}),globalThis.addEventListener("resize",this._handleResize.bind(this),{signal:this.windowControllers.signal})),this.elements.filter((t=>t===e)).length<1&&(this.elements.push(e),e.style.top=0,e.style.left=0),this.positionElement(e)}unloadElement(e){this.elements=this.elements.filter((t=>t!==e)),this.elements.length<1&&this.removeEventListeners()}_handleScroll(){this.__timeout2&&clearTimeout(this.__timeout2),this.__timeout2=setTimeout(globalThis.AbsolutePositionStateManager.instance.updateStickyElements(),1e3)}_handleResize(){this.__timeout&&clearTimeout(this.__timeout),this.__timeout=setTimeout(globalThis.AbsolutePositionStateManager.instance.updateElements(),250)}checkMutations(e){let t=!1;e.forEach((e=>{t||(t=t||!("attributes"===e.type&&"style"===e.attributeName&&this.elements.includes(e.target)))})),t&&(this.__timeout&&clearTimeout(this.__timeout),this.__timeout=setTimeout(globalThis.AbsolutePositionStateManager.instance.updateElements(),250))}findTarget(e){let t="#"+e.for,i=e.target,a=e;for(;e.for&&!i&&a&&a.parentNode&&a!==document;)a=a.parentNode,i=a?a.querySelector(t):void 0,11===a.nodeType&&(a=a.host),i=!i&&a?a.querySelector(t):i;return i}removeEventListeners(){this.__observer&&this.__observer.disconnect&&this.__observer.disconnect(),this.windowControllers.abort(),this.__watchSticky&&this.scrollTarget&&this.scrollTarget.removeEventListener("scroll",this._handleScroll)}updateElements(){this.elements.forEach((e=>this.positionElement(e))),this.loadSticky()}updateStickyElements(){this.elements.forEach((e=>{e.sticky&&this.positionElement(e)}))}loadSticky(){!this.__watchSticky&&this.elements.filter((e=>e.sticky)).length>0&&this.scrollTarget?(this.__watchSticky=!0,this.scrollTarget.addEventListener("scroll",this._handleScroll,{passive:!0})):this.__watchSticky&&this.elements.filter((e=>e.sticky)).length<1&&this.scrollTarget&&(this.scrollTarget.removeEventListener("scroll",this._handleScroll,{passive:!0}),this.__watchSticky=!1)}_getParentNode(e){let t=e.parentNode;return null!=t&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(t=t.host),t}positionElement(e){e.position||(e.position="bottom"),e.style.position="absolute",e.style.top||(e.style.top="0px"),e.style.left||(e.style.left="0px");let t=this.findTarget(e),i=e.offsetParent,a=t&&t.getBoundingClientRect?t.getBoundingClientRect():{};if(!t||!i)return;e.justify&&(e.style.width=`${a.width}px`);let s=globalThis.document.body.getBoundingClientRect(),o=i.getBoundingClientRect(),r=e.getBoundingClientRect(),l=parseFloat(e.offset),n=e=>parseFloat(e.replace("px","")),d=(t=e.position)=>"left"!==t&&"right"!==t,c=(t=d(e.position))=>{let i,o=t?n(e.style.left)-r.left:n(e.style.top)-r.top,l=t?"left":"top",c=e=>t?e.width:e.height,h=o+c(s)-c(r),p=o;return"end"===e.positionAlign?p+=a[l]-c(r)+c(a):"start"===e.positionAlign?p+=a[l]:p+=a[l]-c(r)/2+c(a)/2,i=e.fitToVisibleBounds?Math.max(o,Math.min(h,p)):p,i},h=(t=e.position)=>{let i,s=d(t)?n(e.style.top)-r.top:n(e.style.left)-r.left,o=e.allowOverlap||"visible"!=globalThis.getComputedStyle(e,null).overflowY?r.height:Math.max(r.height,e.scrollHeight),c=e.allowOverlap||"visible"!=globalThis.getComputedStyle(e,null).overflowX?r.width:Math.max(r.width,e.scrollWidth);return i="top"===t?a.top+s-o-l:"left"===t?a.left+s-c-l:a[t]+s+l,i},p=(t=e.position)=>{let i=e=>d(t)?r.height+l:r.width+l;return((t=e.position)=>"left"===t||"top"===t)(t)?a[t]-s[t]>i:s[t]-a[t]>i},u=!1!==e.fitToVisibleBounds&&!p(e.position),m={top:["bottom","left","right"],left:["right","top","bottom"],bottom:["top","right","left"],right:["left","bottom","top"]};u&&p(m[e.position][0])?e.position=m[e.position][0]:u&&p(m[e.position][1])?e.position=m[e.position][1]:u&&p(m[e.position][2])&&(e.position=m[e.position][2]);let b=d(e.position)?h():c(),g=d(e.position)?c():h();if(e.sticky){let t=globalThis.pageYOffset||(globalThis.document.documentElement||globalThis.document.body.parentNode||globalThis.document.body).scrollTop,s=globalThis.innerHeight,o=0===r.height&&e.children&&e.children[0]?e.children[0].offsetHeight:r.height,l=a.top-r.height<0&&a.top+a.height>20+o,n=a.top+a.height+r.height>s&&a.top<s-o;"top"===e.position&&l&&(b=t-i.offsetTop+(o-r.height)),"bottom"===e.position&&n&&(b=t+s-i.offsetTop-o)}e.style.top=b+"px",e.style.left=g+"px",e.__positions={self:r,parent:o,target:a}}disconnectedCallback(){this.removeEventListeners(),super.disconnectedCallback()}}customElements.define(u.tag,u);class m extends(function(t){return class extends t{static get styles(){let e=[];return super.styles&&(e=super.styles),[e,i`:host{display:inline-block;z-index:99999999999;position:absolute}:host([hidden]){display:none}`]}render(){return e` <slot></slot>`}static get properties(){return{...super.properties,allowOverlap:{type:Boolean,attribute:"allow-overlap"},auto:{type:Boolean,attribute:"auto"},fitToVisibleBounds:{type:Boolean,attribute:"fit-to-visible-bounds"},hidden:{type:Boolean,reflect:!0,attribute:"hidden"},for:{type:String,attribute:"for",reflect:!0},offset:{type:Number,attribute:"offset"},sticky:{type:Boolean,attribute:"sticky",reflect:!0},position:{type:String,attribute:"position",reflect:!0},positionAlign:{type:String,attribute:"position-align",reflect:!0},justify:{type:Boolean,reflect:!0,attribute:"justify"},target:{type:Object},__positions:{type:Object}}}static get tag(){return"absolute-position-behavior"}constructor(){super(),this._ticking=!1,this.scrollTarget=globalThis,this.auto=!1,this.fitToVisibleBounds=!1,this.for=null,this.offset=0,this.position="bottom",this.target=null,this.sticky=!1,this.hidden=!1,this.__positions={},this.__observe=!1}updated(e){super.updated&&super.updated(e);let t=!1;this.shadowRoot&&!this.hidden&&(e.forEach(((e,i)=>{"auto"===i&&this.auto&&this.setPosition(),"auto"!==i||this.auto||this.unsetPosition(),["allowOverlap","fitToVisibleBounds","for","offset","position","justify","positionAlign","target","hidden","sticky"].includes(i)&&this[i]!==e&&(t=!0)})),t&&this.updatePosition())}setPosition(){this.__observe=!0,globalThis.AbsolutePositionStateManager.requestAvailability().loadElement(this)}unsetPosition(){this.__observe=!1,globalThis.AbsolutePositionStateManager.requestAvailability().unloadElement(this)}updatePosition(){!this.hidden&&this.auto&&0==this.__observe&&globalThis.AbsolutePositionStateManager.requestAvailability().loadElement(this),this.auto&&!0!==this.__observe||globalThis.AbsolutePositionStateManager.requestAvailability().positionElement(this)}disconnectedCallback(){this.unsetPosition(),super.disconnectedCallback()}}}(t)){}customElements.define(m.tag,m);const b=[i`:host{visibility:visible;box-sizing:border-box;display:block;margin:0 0 var(--simple-fields-margin,16px);padding:0;font-size:var(--simple-fields-font-size);font-family:var(--simple-fields-font-family,sans-serif);line-height:var(--simple-fields-line-height);font-size:var(--simple-fields-detail-font-size,12px);font-family:var(--simple-fields-detail-font-family,sans-serif);line-height:var(--simple-fields-detail-line-height,130%);background-color:var(--simple-fields-background-color,#fff);color:var(--simple-fields-color,currentColor);margin:0 0 var(--simple-fields-field-margin,var(--simple-fields-margin,16px));--simple-picker-options-border:1px solid var(
          --simple-fields-button-border-color,
          var(--simple-fields-border-color, #999)
        );--simple-picker-options-focus-border:1px solid var(--simple-fields-accent-color, #3f51b5)}::slotted([slot=field]){--simple-picker-options-left:0;--simple-picker-options-right:0;--simple-picker-options-border:1px var(
          --simple-fields-button-border-color,
          var(--simple-fields-border-color, #999)
        ) solid;--simple-picker-options-focus-border:1px var(--simple-fields-accent-color, #3f51b5) solid}:host [hidden],:host([hidden]),:host([type=hidden]){display:none!important}ul[role=listbox]{z-index:2;opacity:0;margin:0;padding:0;top:100%;background-color:var(--simple-fields-background-color,#fff);color:var(--simple-fields-color,currentColor);border:1px var(--simple-fields-button-border-color,var(--simple-fields-border-color,#999)) solid;overflow:auto}ul[role=listbox].focus,ul[role=listbox]:focus,ul[role=listbox]:focus-within{border-color:var(--simple-fields-accent-color,#3f51b5)}:host([disabled]),[disabled]{pointer-events:none!important}`],g=[i`:host .label-main:after{content:var(--simple-fields-label-flag, "")}:host(:focus-within) .label-main,:host([focused]) .label-main{color:var(--simple-fields-accent-color,#3f51b5);transition:color .3s ease-in-out;font-weight:var(--ddd-font-weight-bold)}.label-main{font-weight:var(--ddd-font-weight-medium)}.inline{--simple-fields-radio-option-display:flex;--simple-fields-radio-option-flex-wrap:wrap}label{margin:0}.inline label,.option label{margin:0 var(--simple-fields-margin-small,8px) 0 0;flex:0 1 var(--simple-fields-label-width,auto)}.field,.field-main>div,.inline label,.option label,::slotted([slot=field]){font-size:var(--simple-fields-font-size,16px);text-align:var(--simple-fields-text-align);font-family:var(--simple-fields-font-family,sans-serif);line-height:var(--simple-fields-line-height,22px)}`];i`simple-toolbar-button::part(tooltip),simple-tooltip{text-transform:var(--simple-fields-tooltip-text-transform,unset);font-family:var(--simple-fields-detail-font-family,var(--simple-fields-font-family,sans-serif));font-size:var(--simple-fields-tooltip-font-size,var(--simple-fields-detail-font-size,12px));line-height:var(--simple-fields-tooltip-line-height,var(--simple-fields-detail-line-height,22px));border-radius:var(--simple-fields-border-radius,var(--simple-fields-tooltip-border-radius,2px))}`;i`button,button[aria-selected],simple-toolbar-button::part(button),simple-toolbar-menu::part(button){color:var(--simple-fields-button-color,var(--simple-fields-color));background-color:var(--simple-fields-button-background-color,var(--simple-fields-background-color));border-width:1px;border-style:solid;border-color:var(--simple-fields-button-border-color,var(--simple-fields-border-color,#999));opacity:var(--simple-fields-button-focus-opacity,1);font-family:var(--simple-fields-button-font-family,var(--simple-fields-font-family,sans-serif));font-size:var(--simple-fields-button-font-size,14px);line-height:var(--simple-fields-button-line-height 22px);text-transform:var(--simple-fields-button-text-transform,unset);border-radius:var(--simple-fields-border-radius,2px);padding:var(--simple-fields-button-padding-sm,1px) var(--simple-fields-button-padding,2px);min-height:calc(24px + 2 * var(--simple-fields-button-padding-sm,2px) + 2px)}simple-toolbar-menu-item>simple-toolbar-button::part(button){border-color:transparent;border-radius:0!important}simple-toolbar-button.danger::part(button),simple-toolbar-menu.danger::part(button){background-color:var(--simple-fields-button-danger-color,var(--simple-fields-error-color,#b40000));color:var(--simple-fields-button-danger-background-color,#fff)}button[aria-pressed=true],button[aria-selected=true],simple-toolbar-button[toggled]::part(button){color:var(--simple-fields-button-toggled-color,var(--simple-fields-accent-color,#3f51b5));background-color:var(--simple-fields-button-toggled-background-color,unset);border-color:var(--simple-fields-button-toggled-border-color,var(--simple-fields-color,currentColor));opacity:var(--simple-fields-button-toggled-opacity,1)}simple-toolbar-menu-item>simple-toolbar-button.danger:focus-within::part(button[aria-pressed=true]),simple-toolbar-menu-item>simple-toolbar-button.danger:hover::part(button[aria-pressed=true]){background-color:var(--simple-fields-button-danger-color,var(--simple-fields-error-color,#b40000));color:var(--simple-fields-button-danger-background-color,#fff);border-color:var(--simple-fields-button-danger-focus-color,#8a0000)}button:focus,button:hover,button[aria-selected=false]:not([disabled]):focus,button[aria-selected=false]:not([disabled]):hover,simple-toolbar-button:focus-within::part(button),simple-toolbar-button:hover::part(button),simple-toolbar-menu-item>simple-toolbar-button:focus-within::part(button),simple-toolbar-menu-item>simple-toolbar-button:hover::part(button),simple-toolbar-menu:focus-within::part(button),simple-toolbar-menu:hover::part(button){color:var(--simple-fields-button-focus-color,unset);background-color:var(--simple-fields-button-focus-background-color,var(--simple-fields-accent-color-light,#d9eaff));border-color:var(--simple-fields-button-focus-border-color,var(--simple-fields-accent-color,#3f51b5));opacity:var(--simple-fields-button-focus-opacity,1);text-decoration:var(--simple-fields-button-focus-text-decoration,unset)}simple-toolbar-menu-item>simple-toolbar-button.danger:focus-within::part(button),simple-toolbar-menu-item>simple-toolbar-button.danger:hover::part(button),simple-toolbar-menu.danger:focus-within::part(button),simple-toolbar-menu.danger:hover::part(button){background-color:var(--simple-fields-button-danger-focus-color,#8a0000);color:var(--simple-fields-button-danger-background-color,#fff);border-color:var(--simple-fields-button-danger-focus-color,#8a0000)}button:disabled,button[disabled],simple-toolbar-button[disabled],simple-toolbar-menu[disabled]{color:var(--simple-fields-button-disabled-color,unset);background-color:var(--simple-fields-button-disabled-background-color,unset);border-color:var(--simple-fields-button-disabled-border-color,unset);opacity:var(--simple-fields-button-disabled-opacity,var(--simple-fields-disabled-opacity,.7))}`;const y=[i`[part=error-desc],[part=error-meta],[part=field-desc]{color:var(--simple-fields-meta-color);font-size:var(--simple-fields-meta-font-size,10px);line-height:var(--simple-fields-meta-line-height,110%);opacity:var(--simple-fields-meta-opacity,unset);text-transform:none}:host:hover [part=error-desc],:host:hover [part=error-meta],:host:hover [part=field-desc],:host:hover-within [part=error-desc],:host:hover-within [part=error-meta]{color:var(--simple-fields-focus-meta-color);opacity:var(--simple-fields-focus-meta-opacity,unset)}`];i`fieldset{padding:var(--simple-fields-margin-small,8px) var(--simple-fields-margin,16px);margin:var(--simple-fields-margin-small,8px) 0 var(--simple-fields-margin,16px);border-width:1px;border-style:solid;border-color:var(--simple-fields-fieldset-border-color,var(--simple-fields-border-color-light,#ccc));border-radius:var(--simple-fields-border-radius,2px);transition:all .3s ease-in-out;max-width:calc(100% - 2 * var(--simple-fields-margin,16px) - 2px)}:host(:last-of-type){margin-bottom:0}[part=legend]{font-family:var(--simple-fields-font-family,sans-serif);font-size:var(--simple-fields-legend-font-size,var(--simple-fields-font-size,16px));line-height:var(--simple-fields-line-height,22px);text-transform:var(--simple-fields-legend-text-transform,unset)}:host([error]) [part=legend]{color:var(--simple-fields-error-color,#b40000);transition:all .3s ease-in-out}`;const f=function(t){return class extends t{static get tag(){return"simple-fields-container"}static get styles(){return[...b,...g,...y,i`:host{display:block}:host([error]){color:var(--simple-fields-error-color,#b40000);transition:color .3s ease-in-out}:host([disabled]){color:var(--simple-fields-disabled-color,#999)}#field-bottom,.field-main.inline,.field-main>div{display:flex;align-items:stretch;justify-content:flex-start}*{flex:1 1 auto}#fieldmeta{text-align:right}.field,::slotted([slot=field]){width:auto;border:none;color:var(--simple-fields-color,currentColor);background-color:var(--simple-fields-background-color,transparent);transition:opacity ease-in-out;flex:1 0 auto}::slotted([slot=field]:focus){outline:0}::slotted([type=checkbox][slot=field]:focus),::slotted([type=checkbox][slot=radio]:focus),:host[inline] ::slotted([slot=field]:focus){outline:unset}.field-main.inline .field,.field-main.inline ::slotted([slot=field]){min-width:var(--simple-fields-detail-line-height,22px);height:var(--simple-fields-detail-line-height,22px);margin:0 var(--simple-fields-margin-small,8px) 0 0}.field[disabled],:host([readonly]) ::slotted([slot=field]){opacity:var(--simple-fields-disabled-opacity,.7);transition:opacity ease-in-out}.field[disabled],.field[readonly],:host([disabled]) ::slotted([slot=field]),:host([readonly]) ::slotted([slot=field]){cursor:not-allowed;pointer-events:none}.border-bottom{height:0}:host([disabled]) .border-bottom{border-bottom:var(--simple-fields-border-bottom-disabled-size,var(--simple-fields-border-bottom-size,1px)) dashed var(--simple-fields-border-color,#999)}.border-bottom.blur{border-bottom:var(--simple-fields-border-bottom-size,1px) solid var(--simple-fields-border-color,#999);width:100%}.border-bottom.focus{margin:-1px auto 0;width:0;border-bottom:var(--simple-fields-border-bottom-focus-size,2px) solid var(--simple-fields-accent-color,#3f51b5);transition:width .5s ease-in-out}:host(:focus-within) .border-bottom.focus{width:100%;transition:width .5s ease-in-out}:host([type=checkbox]) .border-bottom,:host([type=color]) .border-bottom,:host([type=file]) .border-bottom,:host([type=radio]) .border-bottom,:host([type=range]) .border-bottom{display:none}::slotted(label:focus),::slotted(label:focus-within),::slotted(label:hover){color:var(--simple-fields-accent-color,#3f51b5);transition:background-color .3s ease-in-out}::slotted(input){padding:0}::slotted(textarea[slot=field]){margin:0;transition:height .5s ease-in-out;box-sizing:border-box;vertical-align:bottom}::slotted(fieldset[slot=field]){margin:0;padding:0;border:none;font-size:var(--simple-fields-font-size,16px);font-family:var(--simple-fields-font-family,sans-serif);line-height:var(--simple-fields-line-height,22px);display:var(--simple-fields-radio-option-display,block);flex-wrap:var(--simple-fields-radio-option-flex-wrap,wrap);transition:color .3s ease-in-out}::slotted(fieldset[slot=field]:focus),::slotted(fieldset[slot=field]:focus-within),::slotted(fieldset[slot=field]:hover){color:var(--simple-fields-accent-color,#3f51b5)}`]}render(){return e` ${this.fieldMainTemplate} ${this.fieldBottom} `}static get properties(){return{autovalidate:{type:Boolean},counter:{type:String},description:{type:String},disabled:{type:Boolean,reflect:!0},defaultErrorMessage:{type:String},defaultRequiredMessage:{type:String},error:{type:Boolean,reflect:!0},errorMessage:{type:String},hidden:{type:Boolean,reflect:!0},field:{type:Object},id:{type:String,reflect:!0},inline:{type:Boolean,reflect:!0},label:{type:String},minchecked:{type:Number},maxchecked:{type:Number},maxwords:{type:Number},name:{type:String,reflect:!0},numberMessage:{type:String},pattern:{type:String},patternMessage:{type:String},prefix:{type:String},readonly:{type:Boolean,reflect:!0},required:{type:Boolean,reflect:!0},requiredMessage:{type:String},suffix:{type:String},type:{type:String},validTypes:{type:Array},isSimpleFieldType:{type:Boolean,reflect:!0,attribute:"is-simple-field-type"},value:{type:Object},__delayedFocus:{type:Boolean}}}constructor(){super(),this.isSimpleFieldType=!0,this.counter="none",this.autovalidate=!1,this.disabled=!1,this.hidden=!1,this.error=!1,this.id=this._generateUUID(),this.inline=!1,this.blockList=!1,this.validTypes=["checkbox","color","date","datetime-local","email","file","fieldset","hidden","month","number","password","radio","range","search","select","tel","text","textarea","time","url","week"],this._observeAndListen(),this.addEventListener("click",this.focus)}disconnectedCallback(){this.removeEventListener("click",this.focus),super.disconnectedCallback()}autoGrow(e=this.field){this.field&&(this.field.style.height="auto",this.field.style.height=`${this.field.scrollHeight}px`,this.field.style.overflowY="hidden")}firstUpdated(e){super.firstUpdated&&super.firstUpdated(e),this._updateField()}updated(e){let t=!1;e.forEach(((e,i)=>{"error"===i&&this.error!==e&&(t=!0),"errorMessage"===i&&this.errorMessage!==e&&(t=!0),"error"===i&&this.field&&this.field.setAttribute("aria-invalid",this.error?"true":"false")})),t&&this._fireErrorChanged()}get descriptionTemplate(){return e` <div id="description" part="field-desc"> <slot name="description"></slot> ${this.description} </div> `}get errorTemplate(){return e` <div id="error-message" ?hidden="${!this.error}" role="alert" part="error-msg"> ${this.errorMessage} </div> `}get fieldBottom(){return e` <div class="border-bottom blur"></div> <div class="border-bottom focus"></div> <div id="field-bottom" part="field-bottom"> <div id="error-desc" part="field-bottom-inner"> ${this.descriptionTemplate} ${this.errorTemplate} </div> ${this.fieldMeta} </div> `}get fieldId(){return`${this.id||"field"}.input`}get fieldMainTemplate(){return e` <div class="${this.inline||["checkbox","color","radio"].includes(this.type||"text")?"field-main inline":"field-main"}" part="field-main"> ${this.labelTemplate} <div part="field-inner"> ${this.prefixTemplate} <slot name="field"></slot> ${this.suffixTemplate} </div> </div> `}get fieldMeta(){return e` <div id="fieldmeta" aria-live="polite" part="field-meta"> <slot name="field-meta"></slot> </div> `}get hasFieldset(){return"fieldset"===this.type}get labelTemplate(){return e` <label id="${this.fieldId}-label" for="${this.fieldId}" class="label-main" ?hidden="${"fieldset"===this.type}" part="label"> <slot name="label-prefix"></slot> <slot name="label"></slot> ${this.label}${this.error||this.required?"*":""} </label> `}get multicheck(){return this.hasFieldset&&this.field.querySelector("input[type=checkbox]")}get numberError(){let e=!!this._getFieldValue()&&this._getFieldValue().length,t="select"===this.type?this.min:!!this.multicheck&&this.minchecked,i="select"===this.type?this.max:!!this.multicheck&&this.maxchecked;return i&&e&&i<e?i-e:!!(t&&e&&t>e)&&t-e}get numeric(){return["date","month","week","time","datetime-local","number","range"].includes(this.type)}get patternError(){return this.pattern&&""!==this.pattern&&this._getFieldValue()&&(this.field.multiple?this._getFieldValue().filter((e=>!e.match(this.pattern))):!this._getFieldValue().match(this.pattern))}get prefixTemplate(){return e` <slot name="prefix"></slot> ${this.prefix} `}get requiredError(){return!this._getFieldValue()&&this.required}get slottedFieldObserver(){return new MutationObserver(this._updateField)}get suffixTemplate(){return e` ${this.suffix?e`${this.suffix}`:e`<slot name="suffix"></slot>`}`}focus(){this.field?(this.field.focus(),this.__delayedFocus=!1):this.__delayedFocus=!0}cursorAtEnd(){this.field.selectionStart=this.field.selectionEnd=this.field.value.length}select(){!this.field||"text"!==this.type&&"textarea"!==this.type||this.field.select()}setRangeText(e,t,i,a){!this.field||"text"!==this.type&&"textarea"!==this.type||this.field.setRangeText(e,t,i,a)}setSelectionRange(e,t,i){!this.field||"text"!==this.type&&"textarea"!==this.type||this.field.setSelectionRange(e,t,i)}stepDown(e=1){this.field&&this.numeric&&this.field.stepDown()}stepUp(e=1){this.field&&this.numeric&&this.field.stepUp()}validate(){let e=this.field.querySelector("legend");return this.requiredError?(this.error=!0,this.errorMessage=this.requiredMessage||"required"):this.numberError?(this.error=!0,this.errorMessage=this.numberMessage||(this.numberError>0?`select ${this.numberError} more`:`select ${0-this.numberError} fewer`)):this.patternError&&(this.error=!0,this.errorMessage=this.patternMessage||"invalid format"),this.hasFieldset&&e&&(e.innerHTML=e.innerHTML.replace(/\**\s*$/,this.error?"*":""),e.style.color=this.error?"var(--simple-fields-error-color, #b40000)":""),!this.error}_fireErrorChanged(){this.dispatchEvent(new CustomEvent("error-changed",{bubbles:!0,cancelable:!0,composed:!0,detail:this}))}_generateUUID(){return"ss-s-s-s-sss".replace(/s/g,Math.floor(65536*(1+Math.random())).toString(16).substring(1))}_getFieldsetValue(){let e,t;return this.field.querySelector("input[type=radio]")?(e=this.field.querySelector("input:checked"),t=e?e.value:void 0):this.field.querySelector("input[type=checkbox]")&&(t=[],e=this.field.querySelectorAll("input:checked"),e.forEach((e=>t.push(e.value)))),t}_getFieldValue(){let e;return this.field&&(e=this.hasFieldset?this._getFieldsetValue():"checkbox"===this.type||"radio"===this.type?!!this.field.checked:"select"===this.type?this.multiple?Object.keys(this.field.selectedOptions).map((e=>this.field.selectedOptions[e].value)):this.field.selectedOptions[0].value:this.field.value),e}_getValidType(e){return"datetime"===e&&this.validTypes.includes(e)?"datetime-local":this.validTypes.includes(e)?e:"text"}_handleFieldChange(){"text"!==this.type&&"textarea"!==this.type||this._updateCount(),this.autovalidate&&this.validate(),this.value=this._getFieldValue(),"textarea"===this.type&&this.autoGrow()}_observeAndListen(e=!0){e?(this.slottedFieldObserver.observe(this,{attributeFilter:["disabled","readonly","required","slot"],childlist:!0}),this._updateField(),this.addEventListener("click",this.focus),this.addEventListener("focusout",this._onFocusout),this.addEventListener("focusin",this._onFocusin)):(this.slottedFieldObserver.disconnect(),this.removeEventListener("click",this.focus),this.removeEventListener("focusout",this._onFocusout),this.removeEventListener("focusin",this._onFocusin))}_onFocusin(){this.error=!1}_onFocusout(){this.autovalidate&&this.validate()}_updateField(){let e=this.field;if(this.field=this.querySelector&&this.querySelector("[slot=field]")?this.querySelector("[slot=field]"):void 0,this.id=`${this.fieldId||""}-wrapper`,this.field){let e=this.field.tagName.toLowerCase(),t=this.field.getAttribute("type")||"text";if(this.type=this._getValidType("input"===e?t:e),this.required=this.field.required,this.disabled=this.field.disabled,this.readonly=this.field.readonly,this.field.setAttribute("aria-describedby","field-bottom"),this.addEventListener("change",this._handleFieldChange),this.addEventListener("input",this._handleFieldChange),"select"===this.type&&(this.multiple=this.field.multiple),"textarea"===this.type&&(this.field.getAttribute("rows")||this.field.setAttribute("rows",1),this.field.addEventListener("keydown",(e=>e.stopPropagation()))),"fieldset"===this.type){let e=this.querySelector("legend");e&&(e.style.fontSize="var(--simple-fields-detail-font-size, 12px)",e.style.fontFamily="var(--simple-fields-detail-font-family, sans-serif)",e.style.lineHeight="var(--simple-fields-detail-line-height, 22px)",e.style.paddingInlineStart=0,e.style.paddingInlineEnd=0),this.querySelectorAll("label, input").forEach((e=>e.style.marginRight="var(--simple-fields-margin, 16px)")),this.querySelectorAll("label input").forEach((e=>e.style.marginLeft="calc(0 - var(--simple-fields-margin, 16px))"))}}else this.disabled=!1,this.readonly=!1,this.required=!1,this.type=void 0,e&&("textarea"===e.tagName.toLowerCase()&&e.addEventListener("keydown",(e=>e.stopPropagation())),e.removeEventListener("change",this._handleFieldChange),e.removeEventListener("input",this._handleFieldChange));this.field&&this.__delayedFocus&&this.focus()}_updateCount(){let e="",t="[\\w\\-\\']+",i=new RegExp(t,"gim"),a=this.field.getAttribute("maxlength")||this.maxlength||!1,s=this.maxwords||!1,o="word"===this.counter?s:a,r=new RegExp(`.{0,${a||1}}`,"g"),l=new RegExp(`(${t}\\W*){0,${s||1}}`,"g"),n=e=>((this.field||{}).value||"").match(e),d=()=>this.field.value?this.field.value.length:0,c=()=>this.field&&this.field.value&&n(i)?n(i).length:0,h=(e,t,i)=>{e&&t&&t<e&&this.field.value.match(i)&&(this.field.value=n(i)[0].trim())};h(d(),a,r),h(c(),s,l),e="word"===this.counter?c():d(),"none"!==this.counter&&this.shadowRoot&&this.shadowRoot.querySelector("#fieldmeta")&&(this.shadowRoot.querySelector("#fieldmeta").innerHTML=o?`${e}/${o}`:e)}}};class v extends(f(t)){}customElements.define(v.tag,v);
/**
 * Copyright 2020 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
class k extends(a(s)){static get tag(){return"simple-icon"}static get haxProperties(){return new URL(`./lib/${this.tag}.haxProperties.json`,import.meta.url).href}static get styles(){return[super.styles,i`feFlood{flood-color:var(--simple-icon-color,var(--simple-colors-default-theme-accent-8,#000))}feFlood.contrast-1{flood-color:var(--simple-icon-color,var(--simple-colors-default-theme-accent-9,#000))}feFlood.contrast-2{flood-color:var(--simple-icon-color,var(--simple-colors-default-theme-accent-10,#000))}feFlood.contrast-3{flood-color:var(--simple-icon-color,var(--simple-colors-default-theme-accent-11,#000))}feFlood.contrast-4{flood-color:var(--simple-icon-color,var(--simple-colors-default-theme-accent-12,#000))}`]}get feFlood(){return this.noColorize?"":o`<feFlood class="contrast-${this.contrast}" result="COLOR" />`}get useSafariPolyfill(){return!1}static get properties(){return{...super.properties,contrast:{type:Number,attribute:"contrast",reflect:!0}}}constructor(){super(),this.contrast=0}}customElements.define(k.tag,k);class x extends(function(t){return class extends(f(t)){static get tag(){return"simple-fields-field"}static get styles(){return[super.styles,i`fieldset{margin:0;padding:0;border:none;background-color:transparent}option{border-radius:0}option[selected]{background-color:var(--simple-fields-faded-background-color,rgba(0,0,0,.1))}legend{padding-inline-start:unset;padding-inline-end:unset}#field-main-inner{position:relative}#options{display:var(--simple-fields-radio-option-display,block);flex-wrap:var(--simple-fields-radio-option-flex-wrap,wrap)}fieldset.block-options #options{display:block}.option{flex-direction:row;display:flex;flex-wrap:wrap;align-items:stretch;justify-content:space-between;margin:0 var(--simple-fields-margin-small,8px) 0 0;width:100%}fieldset.block-options .option{flex-direction:row-reverse;justify-content:flex-end}.option:last-of-type{margin:0}.option:focus-within label{color:var(--simple-fields-accent-color,#003f7d);transition:color ease-in-out}:host([type]) fieldset .border-bottom{display:block}.box-input{width:calc(100% - 4px);padding:2px}.box-input:focus{outline:0}.field-main.inline{align-items:center}input{background-color:var(--simple-fields-background-color,transparent)}input[type=text]{padding:0}textarea{margin:0;transition:height .5s ease-in-out;box-sizing:border-box;vertical-align:bottom;background-color:var(--simple-fields-background-color,transparent)}input::placeholder{font-weight:var(--simple-fields-placeholder-font-weight,inherit);opacity:var(--simple-fields-placeholder-opacity,.5);color:var(--simple-fields-placeholder-color,#000)}select.field{width:calc(100% - 26px);padding-right:26px;border:none;background-color:var(--simple-fields-background-color,transparent);border-radius:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer}:host([type=select]){cursor:pointer}:host([type=select]) simple-icon-lite{position:absolute;pointer-events:none;right:0}select:focus,select:focus-within{outline:0}:host([type=checkbox]) span,:host([type=radio]) span{position:relative;flex:0 0 auto;display:flex;align-items:center}:host([type=checkbox]) fieldset.block-options span,:host([type=radio]) fieldset.block-options span{flex:0 0 auto}.field-main-multi .option:hover,:host([hovered][type=checkbox]) .field-main-single,:host([hovered][type=radio]) .field-main-single{cursor:pointer;color:var(--simple-fields-accent-color,#003f7d)}:host([type=checkbox]) span:focus-within,:host([type=radio]) span:focus-within{color:var(--simple-fields-accent-color,#003f7d)}:host([type=checkbox]) label.checkbox-label,:host([type=radio]) label.radio-label{flex:0 0 auto;width:80%}.field-main.inline input[type=checkbox].field,.field-main.inline input[type=radio].field,:host([type=checkbox]) input,:host([type=radio]) input{z-index:-1;opacity:0;min-width:0;width:0;margin:0;flex:0 1 0px}:host([type=checkbox]) simple-icon-lite,:host([type=radio]) simple-icon-lite{flex:0 0 auto}:host([type=checkbox]) simple-icon-lite:hover,:host([type=checkbox]) span:focus-within simple-icon-lite,:host([type=radio]) simple-icon-lite:hover,:host([type=radio]) span:focus-within simple-icon-lite{color:var(--simple-fields-accent-color,#003f7d)}input[type=range]{width:100%;height:calc(var(--simple-fields-font-size,16px) + var(--simple-fields-line-height,22px));padding:0;margin:0;box-sizing:border-box;-webkit-appearance:none}input[type=range]:focus{outline:0}input[type=range]::-webkit-slider-runnable-track{width:100%;height:16px;cursor:pointer;background:var(--simple-fields-border-color-light,#ccc);border-radius:8px;transition:all 0s ease-in-out}:host([error]) input[type=range]::-webkit-slider-runnable-track{background:var(--simple-fields-faded-error-color,#ffc0c0);transition:all 0s ease-in-out}input[type=range]::-webkit-slider-thumb{height:20px;width:20px;border-radius:50%;background-color:var(--simple-fields-background-color,transparent);box-shadow:0 1px 5px 0 rgba(0,0,0,.6);cursor:pointer;-webkit-appearance:none;margin-top:-2px;transition:all 0s ease-in-out}input[type=range][disabled]::-webkit-slider-thumb,input[type=range][readonly]::-webkit-slider-thumb{cursor:not-allowed}input[type=range]:focus::-webkit-slider-thumb{background:var(--simple-fields-accent-color,#3f51b5);transition:all 0s ease-in-out}:host([error]) input[type=range]::-webkit-slider-thumb{background:var(--simple-fields-error-color,#b40000);transition:all 0s ease-in-out}input[type=range][disabled]::-webkit-slider-thumb,input[type=range][readonly]::-webkit-slider-thumb{background:var(--simple-fields-border-color,#999);cursor:not-allowed;box-shadow:none;transition:all 0s ease-in-out}input[type=range]::-moz-range-track{width:100%;height:16px;cursor:pointer;background:var(--simple-fields-border-color-light,#ccc);border-radius:8px;transition:all 0s ease-in-out}input[type=range][disabled]::-moz-range-track,input[type=range][readonly]::-moz-range-track{cursor:not-allowed}:host([error]) input[type=range]::-moz-range-track{background:var(--simple-fields-faded-error-color,#ffc0c0);transition:all 0s ease-in-out}input[type=range]::-moz-range-thumb{height:20px;width:20px;border-radius:50%;background:var(--simple-fields-background-color,transparent);box-shadow:0 1px 5px 0 rgba(0,0,0,.6);cursor:pointer;transition:all 0s ease-in-out}input[type=range]:focus::-moz-range-thumb{background:var(--simple-fields-accent-color,#3f51b5);transition:all 0s ease-in-out}:host([error]) input[type=range]::-moz-range-thumb{background:var(--simple-fields-error-color,#b40000);transition:all 0s ease-in-out}input[type=range][disabled]::-moz-range-thumb,input[type=range][readonly]::-moz-range-thumb{background:var(--simple-fields-border-color,#999);cursor:not-allowed;box-shadow:none;transition:all 0s ease-in-out}input[type=range]::-ms-track{width:100%;height:16px;cursor:pointer;background:0 0;border-color:transparent;color:transparent;transition:all 0s ease-in-out}input[type=range][disabled]::-ms-track,input[type=range][readonly]::-ms-track{cursor:not-allowed}:host([error]) input[type=range]::-ms-track{background:var(--simple-fields-faded-error-color,#ffc0c0);transition:all 0s ease-in-out}input[type=range]::-ms-fill-lower{background:var(--simple-fields-border-color-light,#ccc);border-radius:8px}input[type=range]::-ms-fill-upper{background:var(--simple-fields-border-color-light,#ccc);border-radius:8px}input[type=range]::-ms-thumb{height:20px;width:20px;border-radius:50%;background:var(--simple-fields-background-color,transparent);box-shadow:0 1px 5px 0 rgba(0,0,0,.6);cursor:pointer}input[type=range][disabled]::-ms-thumb,input[type=range][readonly]::-ms-thumb{cursor:not-allowed}input[type=range]:focus::-ms-thumb{background:var(--simple-fields-accent-color,#3f51b5)}:host([error]) input[type=range]::-ms-thumb{background:var(--simple-fields-error-color,#b40000);transition:all 0s ease-in-out}input[type=range][disabled]::-ms-thumb,input[type=range][redonly]::-ms-thumb{background:var(--simple-fields-border-color,#999);cursor:not-allowed;box-shadow:none;transition:all 0s ease-in-out}input[type=range]:focus::-ms-fill-lower{background:var(--simple-fields-border-color-light,#ccc)}input[type=range]:focus::-ms-fill-upper{background:var(--simple-fields-border-color-light,#ccc)}`]}render(){return this.hasFieldset?this.fieldsetTemplate:super.render()}static get properties(){return{...super.properties,hovered:{type:Boolean,reflect:!0},accept:{type:String},autocomplete:{type:String},autofocus:{type:Boolean},blockOptions:{type:Boolean,attribute:"block-options"},capture:{type:String},counter:{type:String},dirname:{type:String},itemsList:{type:Array,attribute:"items-list"},list:{type:String},max:{type:Number},maxlength:{type:Number},min:{type:Number},minlength:{type:Number},multiple:{type:Boolean},options:{type:Object},placeholder:{type:String},size:{type:Number},spellcheck:{type:String},step:{type:Number},value:{reflect:!0},wrap:{type:Boolean}}}constructor(){super(),this.autocomplete="off",this.autofocus=!1,this.multiple=!1,this.readonly=!1,this.spellcheck=!1,this.itemsList=[],this.options={},this.hovered=!1,this.wrap=!1}firstUpdated(e){super.firstUpdated&&super.firstUpdated(e),["checkbox","radio"].includes(this.type)&&(this.addEventListener("click",this._selectionShortCut.bind(this)),this.addEventListener("mousedown",this._hoverState.bind(this)),this.addEventListener("mouseover",this._hoverState.bind(this)),this.addEventListener("focusin",this._hoverState.bind(this)),this.addEventListener("focusout",this._hoverStateOff.bind(this)),this.addEventListener("mouseout",this._hoverStateOff.bind(this)))}_selectionShortCut(e){let t=!!this.value;this._handleIconClick(t)}_hoverState(){this.hovered=!0}_hoverStateOff(){this.hovered=!1}updated(e){this.field||this._updateField(),e.forEach(((e,t)=>{"id"!==t||this.id||(this.id=this._generateUUID()),this._getAttributes(this.type).includes(t)&&this._updateAttribute(t),"value"===t&&this.value!==e&&this.fieldValueChanged(),["counter","maxlength","type"].includes(t)&&["text","textarea"].includes(this.type)&&this._updateCount(),("type"===t&&this.type!==e||["itemsList","options"].includes(t))&&this._updateField()}))}fieldValueChanged(){this.field.value!==this.value&&(this.field.value=this.value),this._fireValueChanged()}get hasFieldset(){return("radio"===this.type||"checkbox"===this.type)&&!this.noOptions}get fieldElementTag(){return"select"===this.type||"text"===this.type&&!this.noOptions?"select":"textarea"===this.type?"textarea":this.hasFieldset?"fieldset":"input"}get fieldMainTemplate(){return e` <div class="${this.inline||["checkbox","color","radio"].includes(this.type||"text")?"field-main inline":"field-main"} ${this.sortedOptions&&!this.sortedOptions.length>0?"field-main-multi":"field-main-single"}" part="field-main"> ${this.labelTemplate} <div id="field-main-inner" part="field-main-inner"> ${this.prefixTemplate} ${"input"===this.fieldElementTag?this.inputTemplate:"select"===this.fieldElementTag?this.selectTemplate:"textarea"===this.fieldElementTag?this.textareaTemplate:""} ${this.suffixTemplate} </div> </div> `}get fieldMeta(){return e` <div id="fieldmeta" aria-live="polite" part="field-meta"></div> `}get fieldsetTemplate(){return e` <fieldset part="fieldset" class="${this.blockOptions?"block-options":"inline-options"}"> <legend class="label-main" ?hidden="${!this.label}" part="fieldset-legend"> ${this.label}${this.error||this.required?"*":""} </legend> <div id="options" part="fieldset-options"> ${(this.sortedOptions||[]).map((t=>e` <div class="option" part="option" @click="${e=>{"DIV"===e.target.tagName&&(e.preventDefault(),e.stopPropagation(),this._handleIconClick(this.getChecked(t),t))}}"> <label for="${this.id}.${t.value}" class="radio-label" part="option-label">${t.html?e`<div @click="${e=>{e.preventDefault(),e.stopPropagation(),this._handleIconClick(this.getChecked(t),t)}}"> ${t.html} </div>`:t.text}</label>${this.getInput(t)} </div> `))} </div> ${this.fieldBottom} </fieldset> `}_handleIconClick(e,t){this.disabled||this.readonly||(this.value=t?"radio"===this.type&&e?void 0:"radio"===this.type?(t||{}).value:e?(this.value||[]).filter((e=>e!==t.value)):[...this.value||[],(t||{}).value]:!e,this.multicheck&&this.autovalidate&&(this.error=!1,this.validate()))}getOptionIcon(e){return e&&"checkbox"===this.type?"icons:check-box":"checkbox"===this.type?"icons:check-box-outline-blank":e?"icons:radio-button-checked":"icons:radio-button-unchecked"}getChecked(e){return("radio"===this.type||"checkbox"===this.type)&&(e?"radio"===this.type?this.value===(e||{}).value:(this.value||[]).includes&&(this.value||[]).includes((e||{}).value):!!this.value)}getInput(t){let i=this.getChecked(t),a=this.getOptionIcon(i);return e` <span class="input-option" part="option-inner"> <input ?autofocus="${this.autofocus}" .aria-descrbedby="${this.describedBy||""}" .aria-invalid="${this.error?"true":"false"}" @blur="${this._onFocusout}" @change="${this._handleFieldChange}" ?checked="${i}" class="field ${["checkbox","color","file","radio","range"].includes(this.type)?"":"box-input"}" ?disabled="${this.disabled}" @focus="${this._onFocusin}" @click="${this._onFocusin}" ?hidden="${this.hidden}" id="${this.id}.${t?t.value:""}" @input="${this._handleFieldChange}" name="${this.id}" .placeholder="${this.placeholder||""}" ?readonly="${this.readonly}" ?required="${this.required}" tabindex="0" aria-label="${this.describedBy?"":this.label}" type="${this.type}" value="${t?(t||{}).value:this.value}" part="option-input"> ${"checkbox"!==this.type&&"radio"!==this.type?"":e` <simple-icon-lite icon="${a}" @click="${e=>{e.preventDefault(),e.stopPropagation(),this._handleIconClick(i,t)}}" part="option-icon"> </simple-icon-lite> `} </span> `}get inputTemplate(){return this.getInput()}get multicheck(){return this.hasFieldset}get noOptions(){return this.itemsList.length<1&&Object.keys(this.options||{}).length<1}get numberError(){let e=!!this._getFieldValue()&&this._getFieldValue().length,t=!("select"!==this.type&&!this.multicheck)&&this.min,i=!("select"!==this.type&&!this.multicheck)&&this.max;return i&&e&&i<e?i-e:!!(t&&e&&t>e)&&t-e}get sortedOptions(){let e=(this.itemsList||[]).map(((e,t)=>"object"==typeof e?e:{value:e,text:e}));return Object.keys(this.options||{}).sort(((e,t)=>e>t?1:-1)).forEach((t=>e.push({value:t,text:this.options[t]}))),e}get selectTemplate(){return e` <select ?autofocus="${this.autofocus}" .aria-descrbedby="${this.describedBy||""}" aria-invalid="${this.error?"true":"false"}" @blur="${this._onFocusout}" @change="${this._handleFieldChange}" class="field" ?disabled="${this.disabled}" @focus="${this._onFocusin}" ?hidden="${this.hidden}" id="${this.id}" ?multiple="${this.multiple}" name="${this.id}" ?readonly="${this.readonly}" ?required="${this.required}" tabindex="0" part="select"> ${(this.sortedOptions||[]).map((t=>e` <option part="select-option" .id="${this.id}.${t.value}" ?selected="${this.multiple?this.value&&this.value.includes(t.value):this.value===t.value}" .value="${t.value}"> ${t.html?e`${t.html}`:t.text} </option> `))} </select> <simple-icon-lite icon="arrow-drop-down"></simple-icon-lite> `}get slottedFieldObserver(){}get textareaTemplate(){return e` <textarea aria-invalid="${this.error?"true":"false"}" ?autofocus="${this.autofocus}" @blur="${this._onFocusout}" class="field box-input" @change="${this._handleFieldChange}" @keydown="${e=>e.stopPropagation()}" ?disabled="${this.disabled}" @focus="${this._onFocusin}" ?hidden="${this.hidden}" id="${this.id}" @input="${this._handleFieldChange}" name="${this.id}" ?readonly="${this.readonly}" ?required="${this.required}" rows="1" tabindex="0" part="textarea">
  ${this.value||""}</textarea> `}_fireValueChanged(){this.dispatchEvent(new CustomEvent("value-changed",{bubbles:!0,cancelable:!0,composed:!0,detail:this}))}_handleFieldChange(e){super._handleFieldChange(),this.multicheck&&this.autovalidate&&(this.error=!1,this.validate())}_getAttributes(e){return{checkbox:["autocomplete","form","list"],color:["autocomplete","form","list"],date:["autocomplete","form","list","max","min","step"],"datetime-local":["form","list","max","min","step"],email:["autocomplete","form","list","placeholder"],file:["autocomplete","accept","capture","form","list"],hidden:["autocomplete","form"],month:["autocomplete","form","list","max","min","step"],number:["autocomplete","form","list","max","min","step"],password:["autocomplete","form","list","maxlength","maxlength","pattern","placeholder"],radio:["autocomplete","form","list"],range:["autocomplete","form","list","max","min","step"],search:["autocomplete","dirname","form","list","maxlength","maxlength","placeholder"],select:["autocomplete","form","list","size"],tel:["autocomplete","form","list","maxlength","maxlength","pattern","placeholder"],text:["autocomplete","dirname","form","list","maxlength","maxlength","pattern","placeholder"],textarea:["autocomplete","autocomplete","form","maxlength","maxlength","placeholder","spellcheck","wrap"],time:["autocomplete","form","list","max","min","step"],url:["autocomplete","form","list","maxlength","maxlength","placeholder"],week:["autocomplete","form","list","max","min","step"]}[e]}_getFieldsetValue(){return super._getFieldsetValue()}_observeAndListen(e=!0){e?this.addEventListener("click",this.focus):this.removeEventListener("click",this.focus)}_updateAttribute(e){this.field&&this[e]!==this.field.getAttribute(e)&&(this[e]||0===this[e]?this.field.setAttribute(e,this[e]):this.field.removeAttribute(e,this[e]))}_updateField(){this.type=this._getValidType(this.type),this.field=this.shadowRoot&&this.shadowRoot.querySelector(this.fieldElementTag)?this.shadowRoot.querySelector(this.fieldElementTag):void 0,this._getAttributes(this.type).forEach((e=>this._updateAttribute(e))),"select"!==this.type&&this.field&&this._updateAttribute("value"),this.field&&this.__delayedFocus&&this.focus()}}}(t)){}customElements.define(x.tag,x);
/**
 * Copyright 2018 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
class _ extends t{static get tag(){return"simple-search-content"}enableSearch(e){e.addEventListener("simple-search",(t=>this._searchContent(e))),e.addEventListener("goto-result",(e=>this.focus(e.detail)))}_searchContent(e){let t=this.innerHTML;this.innerHTML=e.findMatches(t)}focus(e){let t=this.querySelector('[match-number="'+e+'"]');null!=t&&t.focus()}render(){return e` <slot></slot> `}}customElements.define(_.tag,_);
/**
 * Copyright 2018 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
class w extends t{static get tag(){return"simple-search-match"}static get properties(){return{...super.properties,matchNumber:{type:Number,reflect:!0,attribute:"match-number"}}}static get styles(){return[i`:host{margin-right:4px;font-family:var(--simple-search-match-font-family,unset);color:var(--simple-search-match-text-color,#000);background-color:var(--simple-search-match-bg-color,#f0f0f0);border:var(--simple-search-match-border,1px solid);border-color:var(--simple-search-match-border-color,#ddd);padding:var(--simple-search-match-padding,.16px 0 .16px 4px);border-radius:var(--simple-search-match-border-radius,.16px);font-weight:var(--simple-search-match-font-weight,bold)}`]}render(){return e` <slot></slot> `}}customElements.define(w.tag,w);
/**
 * Copyright 2018 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
class T extends t{static get styles(){return[i`:host{display:flex;align-items:flex-end;justify-content:space-between;width:100%;background-color:var(--simple-search-input-background-color,transparent)}#input{flex-grow:2;margin-right:4px;padding:var(--simple-search-padding,unset);margin:var(--simple-search-margin,unset);color:var(--simple-search-input-text-color,#000);--simple-fields-color:var(--simple-search-input-text-color, #000);--simple-fields-container-color:var(
            --simple-search-input-placeholder-color,
            #222
          );--simple-fields-background-color:var(
            --simple-fields-input-background-color,
            transparent
          );--simple-icon-color:var(
            --simple-search-input-placeholder-color,
            #222
          )}#xofy{margin:8px}button{margin:8px 0 8px;border-style:solid;border-width:1px;border-color:var(--simple-search-button-border-color,#ccc);color:var(--simple-search-button-color,#111);background-color:var(--simple-search-button-bg-color,#eee);border-color:var(--simple-search-button-border-color,#ccc)}button:not([disabled]):focus,button:not([disabled]):hover{cursor:pointer;color:var(--simple-search-button-hover-color,#000);background-color:var(--simple-search-button-hover-bg-color,#fff);border-color:var(--simple-search-button-hover-border-color,#ddd)}button[disabled]{cursor:not-allowed;color:var(--simple-search-button-disabled-color,#999);background-color:var(--simple-search-button-disabled-bg-color,#eee);border-color:var(--simple-search-button-disabled-border-color,#ccc)}button:not([controls]){display:none}#searchnav{flex:1 0 auto}#searchnav button{display:inline;flex:1 0 auto}[shrink-hide]{display:none}`]}render(){return e` <simple-fields-field id="input" label="${this.searchInputLabel}" ?inline="${this.inline||this.noLabelFloat}" @value-changed="${this._handleChange}"> <simple-icon-lite icon="${this.searchInputIcon}" slot="${this.inline?"label-prefix":"prefix"}"></simple-icon-lite> </simple-fields-field> <div id="xofy" ?shrink-hide="${this._hasNoSearch(this.searchTerms)}"> ${this._getResultsSpan(this.resultPointer,this.resultCount)} </div> <div id="searchnav" ?shrink-hide="${this._hasNoSearch(this.searchTerms)}"> <button id="prev" aria-label="${this.prevButtonLabel}" role="button" controls="${this.controls}" tabindex="0" ?disabled="${this.__hidePrev}" @click="${this._navigateResults}"> <simple-icon-lite icon="${this.prevButtonIcon}"></simple-icon-lite> </button> <simple-tooltip for="prev">${this.prevButtonLabel}</simple-tooltip> <button id="next" aria-label="${this.nextButtonLabel}" role="button" controls="${this.controls}" tabindex="0" ?disabled="${this.__hideNext}" @click="${this._navigateResults}"> <simple-icon-lite icon="${this.nextButtonIcon}"></simple-icon-lite> </button> <simple-tooltip for="next">${this.nextButtonLabel}</simple-tooltip> </div>`}static get properties(){return{...super.properties,alwaysFloatLabel:{attribute:"always-float-label",type:Boolean},caseSensitive:{attribute:"case-sensitive",type:Boolean},controls:{attribute:"controls",type:String},inline:{attribute:"inline",type:Boolean},nextButtonIcon:{attribute:"next-button-icon",type:String},nextButtonLabel:{attribute:"next-button-label",type:String},noLabelFloat:{attribute:"no-label-float",type:Boolean},prevButtonIcon:{attribute:"prev-button-icon",type:String},prevButtonLabel:{attribute:"prev-button-label",type:String},resultCount:{attribute:"result-count",type:Number},resultPointer:{attribute:"result-pointer",type:Number},selector:{attribute:"selector",type:String},searchInputIcon:{attribute:"search-input-icon",type:String},searchInputLabel:{attribute:"search-input-label",type:String},searchTerms:{attribute:"search-terms",type:Array},target:{type:Object},__hideNext:{type:Boolean},__hidePrev:{type:Boolean}}}static get tag(){return"simple-search"}constructor(){super(),this.alwaysFloatLabel=!1,this.caseSensitive=null,this.controls=null,this.nextButtonIcon="arrow-forward",this.nextButtonLabel="next result",this.noLabelFloat=!1,this.prevButtonIcon="arrow-back",this.prevButtonLabel="previous result",this.resultCount=0,this.resultPointer=0,this.searchInputIcon="search",this.searchInputLabel="search",this.searchTerms=[],this.target=null,this.selector=null,this.__hideNext=!0,this.__hidePrev=!0}updated(e){e.forEach(((e,t)=>{"resultPointer"!==t&&"resultCount"!==t||this._getNavDisabled(this.resultPointer,this.resultCount)}))}_handleChange(e){let t=this.selector?` ${this.selector}`:"",i=this.controls?this.getRootNode().querySelectorAll(`#${this.controls}${t}`):null;this._getSearchText(),this.resultCount=0,this.resultPointer=0,i.forEach((e=>{this._searchSelection(e)})),this.dispatchEvent(new CustomEvent("simple-search",{detail:{search:this,content:e}}))}_searchSelection(e){e&&e.innerHTML&&(e.innerHTML=this.findMatches(e.innerHTML))}_hasNoSearch(e){return e.length<1}_getResultsSpan(e,t){return t>0&&e>0?e+"/"+t:t>0?t:"0"}_navigateResults(e){let t="next"===e.currentTarget.id?1:-1;this.resultPointer+t>0&&this.resultPointer+t<=this.resultCount&&(this.resultPointer+=t,this.dispatchEvent(new CustomEvent("goto-result",{detail:this.resultPointer})))}_getNavDisabled(e,t){this.__hidePrev=this._isNavButtonDisabled(e,t,-1),this.__hideNext=this._isNavButtonDisabled(e,t)}_isNavButtonDisabled(e,t,i=1){return!t||0===t||e+i<=0||e+i>t}_getSearchText(){let e=this.shadowRoot.querySelector("#input").value,t=new Array;if(null!=e){t=e.split(/[\"\']/gm);for(let e=0;e<t.length;e++)t[e]=t[e].trim(),""===t[e]&&t.splice(e,1)}this.searchTerms=t.slice(0)}findMatches(e){return this.resultPointer=0,e=e.replace(/<\/?simple-search-match[^>]*>/g,""),this.searchTerms.forEach((t=>{let i=this.caseSensitive?"gm":"gim",a=new RegExp("\\b("+t+")\\b",i);e=e.replace(a,(e=>(this.resultCount++,`<simple-search-match tabindex="0" match-number="${this.resultCount}">${e}</simple-search-match>`)))})),e}}customElements.define(T.tag,T);
/**
 * Copyright 2020 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
class $ extends s{constructor(){super(),this.dragging=!1,this.label="Range input",this.min=0,this.max=100,this.step=1,this.value=0,this.immediateValue=0,this.disabled=!1,this.addEventListener("mousedown",(()=>{this.dragging=!0})),this.addEventListener("mouseup",(()=>{this.dragging=!1,this.value=this.immediateValue})),this.addEventListener("keydown",(()=>{this.dragging=!0,setTimeout((()=>{this.value=this.immediateValue}),0)})),this.addEventListener("keyup",(()=>{this.dragging=!1,this.value=this.immediateValue}))}static get properties(){return{...super.properties,dragging:{type:Boolean,reflect:!0},immediateValue:{type:Number,attribute:"immediate-value"},value:{type:Number,reflect:!0},min:{type:Number},step:{type:Number},max:{type:Number},label:{type:String},disabled:{type:Boolean,reflect:!0}}}static get tag(){return"simple-range-input"}static get styles(){return[super.styles,i`:host{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:var(--simple-range-input-track-height,10px);height:var(--simple-range-input-pin-height,20px)}:host([disabled]){pointer-events:none}input[type=range]{-webkit-appearance:none;margin:0;padding:0;width:100%}input[type=range]:focus{outline:0}input[type=range]::-webkit-slider-runnable-track{width:100%;height:var(--simple-range-input-track-height,10px);cursor:pointer;box-shadow:var(--simple-range-input-box-shadow,0 0 0 #000,0 0 0 #0d0d0d);background:var(--simple-range-input-bg,var(--simple-colors-default-theme-accent-2,#000));border-radius:var(--simple-range-input-track-border-radius,2px);border:var(--simple-range-input-border,0 solid #000)}input[type=range]::-webkit-slider-thumb{box-shadow:var(--simple-range-input-box-shadow,0 0 0 #000,0 0 0 #0d0d0d);border:var(--simple-range-input-border,0 solid #000);height:var(--simple-range-input-pin-height,20px);width:var(--simple-range-input-pin-width,var(--simple-range-input-pin-height,20px));border-radius:var(--simple-range-input-border-radius,50%);background:var(--simple-range-input-color,var(--simple-colors-default-theme-accent-8,grey));cursor:pointer;margin:calc(.5 * (var(--simple-range-input-track-height,10px) - var(--simple-range-input-pin-height,20px))) 0;-webkit-appearance:none}input[type=range]:focus::-webkit-slider-runnable-track{background:var(--simple-range-input-bg,var(--simple-colors-default-theme-accent-2,#000))}input[type=range]::-moz-range-track{width:100%;height:var(--simple-range-input-track-height,10px);cursor:pointer;box-shadow:var(--simple-range-input-box-shadow,0 0 0 #000,0 0 0 #0d0d0d);background:var(--simple-range-input-bg,var(--simple-colors-default-theme-accent-2,#000));border-radius:var(--simple-range-input-track-border-radius,2px);border:var(--simple-range-input-border,0 solid #000)}input[type=range]::-moz-range-thumb{box-shadow:var(--simple-range-input-box-shadow,0 0 0 #000,0 0 0 #0d0d0d);border:var(--simple-range-input-border,0 solid #000);height:var(--simple-range-input-pin-height,20px);width:var(--simple-range-input-pin-width,var(--simple-range-input-pin-height,20px));border-radius:var(--simple-range-input-border-radius,50%);background:var(--simple-range-input-color,var(--simple-colors-default-theme-accent-8,grey));cursor:pointer;margin:calc(.5 * (var(--simple-range-input-track-height,10px) - var(--simple-range-input-pin-height,20px))) 0}input[type=range]::-ms-track{width:100%;height:var(--simple-range-input-track-height,10px);cursor:pointer;background:0 0;border-color:transparent;border-width:var(--simple-range-input-pin-height,20px) 0;color:transparent}input[type=range]::-ms-fill-lower{background:var(--simple-range-input-bg,var(--simple-colors-default-theme-accent-2,#000));border:var(--simple-range-input-border,0 solid #000);border-radius:var(--simple-range-input-track-border-radius,2px);box-shadow:var(--simple-range-input-box-shadow,0 0 0 #000,0 0 0 #0d0d0d)}input[type=range]::-ms-fill-upper{background:var(--simple-range-input-bg,var(--simple-colors-default-theme-accent-2,#000));border:var(--simple-range-input-border,0 solid #000);border-radius:var(--simple-range-input-track-border-radius,2px);box-shadow:var(--simple-range-input-box-shadow,0 0 0 #000,0 0 0 #0d0d0d)}input[type=range]::-ms-thumb{box-shadow:var(--simple-range-input-box-shadow,0 0 0 #000,0 0 0 #0d0d0d);border:var(--simple-range-input-border,0 solid #000);height:var(--simple-range-input-pin-height,20px);width:var(--simple-range-input-pin-width,var(--simple-range-input-pin-height,20px));border-radius:var(--simple-range-input-border-radius,50%);background:var(--simple-range-input-color,var(--simple-colors-default-theme-accent-8,grey));cursor:pointer;margin:calc(.5 * (var(--simple-range-input-track-height,10px) - var(--simple-range-input-pin-height,20px))) 0}input[type=range]:focus::-ms-fill-lower{background:var(--simple-range-input-bg,var(--simple-colors-default-theme-accent-2,#000))}input[type=range]:focus::-ms-fill-upper{background:var(--simple-range-input-bg,var(--simple-colors-default-theme-accent-2,#000))}#label{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}`]}render(){return e`<input @input="${this._inputChanged}" @changed="${this._valueChanged}" ?disabled="${this.disabled}" type="range" min="${this.min}" step="${this.step}" max="${this.max}" .value="${this.value}" aria-labelledby="label"><label id="label">${this.label}</label>`}_inputChanged(e){this.immediateValue=e.target.value}_valueChanged(e){this.value=e.target.value}firstUpdated(){super.firstUpdated(),setTimeout((()=>{this.__ready=!0}),0)}updated(e){super.updated&&super.updated(e),this.shadowRoot&&this.__ready&&e.forEach(((e,t)=>{"immediateValue"===t&&(this.dragging?this.dispatchEvent(new CustomEvent("immediate-value-changed",{detail:{value:this.immediateValue}})):this.value=this.immediateValue),"value"===t&&this.dispatchEvent(new CustomEvent("value-changed",{detail:{value:this.value}}))}))}}customElements.define($.tag,$);
/**
 * Copyright 2018 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
class S extends t{static get properties(){return{accentColor:{attribute:"accent-color",type:String},dark:{type:Boolean},action:{attribute:"action",reflect:!0,type:String},controls:{attribute:"controls",reflect:!0,type:String},icon:{attribute:"icon",type:String},label:{attribute:"label",type:String},toggle:{attribute:"toggle",type:Boolean,reflect:!0},disabled:{attribute:"disabled",type:Boolean},tooltipPosition:{attribute:"tooltip-position",type:String}}}static get tag(){return"a11y-media-button"}constructor(){super(),this.accentColor="red",this.dark=!1,this.controls="video",this.disabled=!1,this.toggle=!1,this.tooltipPosition="bottom",import("./af8ca8e3.js").then((function(e){return e.s}))}static get styles(){return[this.buttonStyles,i`:host{margin:0;padding:0}#button{margin:0;padding:8px;line-height:1;border:none;transition:color .25s;color:var(--a11y-media-button-color);background-color:var(--a11y-media-button-bg-color)}:host([toggle]) #button{color:var(--a11y-media-button-toggle-color);background-color:var(--a11y-media-button-toggle-bg-color)}:host(:active) #button,:host(:focus) #button,:host(:hover) #button,:host([toggle]:active) #button,:host([toggle]:focus) #button,:host([toggle]:hover) #button{color:var(--a11y-media-button-hover-color);background-color:var(--a11y-media-button-hover-bg-color)}:host([disabled]) #button{color:var(--a11y-media-button-disabled-color);cursor:not-allowed}.sr-only{position:absolute;left:-99999;top:0;height:0;width:0;overflow:hidden}simple-tooltip{z-index:100}simple-tooltip:not(:defined){display:none}simple-icon-lite{display:inline-block}`]}static get buttonStyles(){return[i`#button{margin:0;border:none}.sr-only{position:absolute;left:-99999;top:0;height:0;width:0;overflow:hidden}simple-tooltip{z-index:100}simple-tooltip:not(:defined){display:none}`]}render(){return e` <button id="button" aria-label="${this.label}" aria-pressed="${this.toggle?"true":"false"}" controls="${this.controls}" tabindex="0" @click="${this._buttonClick}" ?disabled="${this.disabled}" ?toggle="${this.toggle}"> <simple-icon-lite icon="${this.icon}"></simple-icon-lite> </button> ${this.label?e` <simple-tooltip for="button" position="${this.tooltipPosition}">${this.label}</simple-tooltip> `:""} `}_buttonClick(e){this.dispatchEvent(new CustomEvent("button-click",{detail:this}))}}customElements.define(S.tag,S);
/**
 * Copyright 2018 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
class C extends S{constructor(){super(),this.youtubeId=null}static get tag(){return"a11y-media-play-button"}static get styles(){return[...super.buttonStyles,i`:host{display:block;opacity:1;transition:opacity .5s}:host([action=pause]){opacity:0}#button,:host{width:100%;top:0;left:0;opacity:1;transition:opacity .5s}#button{position:absolute;height:100%;padding:0;background:var(--a11y-play-button-bg-color)}#button:focus,#button:hover{background:var(--a11y-play-button-focus-bg-color);opacity:.2}#arrow{stroke:#fff;fill:#000}#text{fill:#fff}@media print{#background,#svg,:host{display:none}}`]}static get properties(){return{...super.properties,youtubeId:{attribute:"youtube-id",type:String}}}render(){return e` <button id="button" aria-hidden="${this.disabled?"true":"false"}" controls="video" aria-label="${this.label}" tabindex="0" @click="${this._buttonClick}" ?disabled="${this.disabled}"> ${"undefined"!=this.youtubeId&&this.youtubeId?e` <svg id="svg" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 70 60" preserveAspectRatio="xMidYMid meet" focusable="false" width="30%" height="30%" opacity="0.5"> <g viewBox="0 0 70 60" preserveAspectRatio="xMidYMid meet" class="style-scope ytd-topbar-logo-renderer"> <g class="style-scope ytd-topbar-logo-renderer"> <path fill="#FF0000" d="M63,14.87c-0.72-2.7-2.85-4.83-5.56-5.56C52.54,8,32.88,8,32.88,8S13.23,8,8.32,9.31
            c-2.7,0.72-4.83,2.85-5.56,5.56C1.45,19.77,1.45,30,1.45,30s0,10.23,1.31,15.13c0.72,2.7,2.85,4.83,5.56,5.56
            C13.23,52,32.88,52,32.88,52s19.66,0,24.56-1.31c2.7-0.72,4.83-2.85,5.56-5.56C64.31,40.23,64.31,30,64.31,30
            S64.31,19.77,63,14.87z" class="style-scope ytd-topbar-logo-renderer"></path> <polygon fill="#FFFFFF" points="26.6,39.43 42.93,30 26.6,20.57" class="style-scope ytd-topbar-logo-renderer"></polygon> </g> </g> </svg> `:e` <svg id="svg" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" width="30%" height="30%" opacity="0.5"> <g> <polygon id="arrow" points="30,20 30,180 170,100" fill="#000000" stroke="#ffffff" stroke-width="15px"></polygon> <text id="text" class="sr-only" x="50" y="115" fill="#ffffff" font-size="30px"> ${this.label} </text> </g> </svg> `} </button> `}}customElements.define(C.tag,C),
/**
 * Copyright 2018 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
globalThis.A11yMediaStateManager=globalThis.A11yMediaStateManager||{},globalThis.A11yMediaStateManager.requestAvailability=()=>(!globalThis.A11yMediaStateManager.instance&&globalThis.document&&(globalThis.A11yMediaStateManager.instance=globalThis.document.createElement("a11y-media-state-manager"),globalThis.document.body.appendChild(globalThis.A11yMediaStateManager.instance)),globalThis.A11yMediaStateManager.instance);class E extends t{static get tag(){return"a11y-media-state-manager"}static get properties(){return{...super.properties,players:{type:Array},activePlayer:{type:Object}}}constructor(){super(),this.windowControllers=new AbortController,this.players=[],this.__stickyManager=e=>this.setStickyPlayer(e.detail),this.__fullscreenManager=e=>this._handleFullscreen(e.detail),this.__playerLoader=e=>this.players.push(e.detail),globalThis.A11yMediaStateManager.instance||(globalThis.A11yMediaStateManager.instance=this)}checkConcurrentPlayers(){let e=this.activePlayer;this.players.forEach((t=>{e&&t!==e&&(t.fullscreen&&t.toggleFullscreen(!1),t.allowConcurrent&&e.allowConcurrent&&!e.fullscreen||t.pause())}))}setActivePlayer(e){this.activePlayer=e,this.checkConcurrentPlayers(),this.observer&&this.observer.disconnect(),this.observer.observe(this.activePlayer)}get observer(){return this._observer=this._observer||new IntersectionObserver(((e,t)=>{globalThis.A11yMediaStateManager.instance._handleIntersect(e,t)}),{root:null,rootMargin:"0px",threshold:[.25,.75]}),this._observer}_handleIntersect(e,t){e.forEach((e=>{!this.activePlayer||this.activePlayer.fullscreen||(this.activePlayer.__playing?this.activePlayer.toggleSticky(!e.isIntersecting):this.activePlayer.toggleSticky(!1))}))}setStickyPlayer(e){e!==this.activePlayer&&void 0!==this.activePlayer&&null!==this.activePlayer&&this.activePlayer.toggleSticky(!1),this.setActivePlayer(e)}_handleFullscreen(e){e&&e.fullscreen&&this.setActivePlayer(e)}connectedCallback(){super.connectedCallback(),globalThis.addEventListener("a11y-player-playing",this.__stickyManager.bind(this),{signal:this.windowControllers.signal}),globalThis.addEventListener("fullscreen-toggle",this._handleFullscreen.bind(this),{signal:this.windowControllers.signal}),globalThis.addEventListener("a11y-player",this.__playerLoader.bind(this),{signal:this.windowControllers.signal})}disconnectedCallback(){this.windowControllers.abort(),super.disconnectedCallback()}}customElements.define(E.tag,E);
/**
 * Copyright 2018 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
class M extends t{static get properties(){return{...super.properties,active:{attribute:"active",type:Boolean,reflect:!0},disabled:{attribute:"disabled",type:Boolean,reflect:!0},end:{type:String},hideTimestamps:{attribute:"hide-timestamps",type:Boolean,reflect:!0},start:{type:String}}}static get tag(){return"a11y-media-transcript-cue"}constructor(){super(),this.active=!1,this.disabled=!1,this.hideTimestamps=!1,this.start="",this.end=""}static get styles(){return[i`:host{cursor:default;display:table-row;width:100%;color:var(--a11y-media-transcript-cue-color);background-color:var(--a11y-media-transcript-cue-bg-color);transition:color .25s,background-color .25s;--simple-search-match-text-color:var(
            --a11y-media-transcript-match-color
          );--simple-search-match-bg-color:var(
            --a11y-media-transcript-match-bg-color
          );--simple-search-match-border-color:var(
            --a11y-media-transcript-match-border-color
          );--simple-search-match-border:none;--simple-search-match-border-radius:4px;--simple-search-match-font-weight:normal}:host([hide-timestamps]){display:inline}:host(:not([active]):not([disabled]):active),:host(:not([active]):not([disabled]):focus),:host(:not([active]):not([disabled]):hover){cursor:pointer;color:var(--a11y-media-transcript-focused-cue-color);background-color:var(--a11y-media-transcript-focused-cue-bg-color);outline:1px dotted var(--a11y-media-transcript-focused-cue-color)}:host([active]){color:var(--a11y-media-transcript-active-cue-color);background-color:var(--a11y-media-transcript-active-cue-bg-color)}#text{display:table-cell;width:100%;line-height:200%}:host([hide-timestamps]) #text{display:inline}#time{display:table-cell;font-size:80%;padding:0 16px 0 0;white-space:nowrap;font-family:monospace}:host([hide-timestamps]) #time{display:none}@media print{:host,:host(:not([active]):not([disabled]):active),:host(:not([active]):not([disabled]):focus),:host(:not([active]):not([disabled]):hover),:host([active]){color:#000;background-color:#fff}}`]}render(){return e` <span id="time"> ${this.start} - ${this.end} </span> <span id="text"> <slot></slot> </span> `}updated(e){e.forEach(((e,t)=>{"active"===t&&this.active&&this.dispatchEvent(new CustomEvent("active-changed",{detail:{element:this,oldValue:e,value:this.active}}))}))}}customElements.define(M.tag,M),
/**
 * Copyright 2018 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
globalThis.A11yMediaYoutubeManager=globalThis.A11yMediaYoutubeManager||{getIframes:()=>{globalThis.A11yMediaYoutubeManager.queue.forEach((e=>{e.__yt=e._preloadVideo(!0)})),globalThis.A11yMediaYoutubeManager.queue=[]},queue:[]};class L extends t{static get tag(){return"a11y-media-youtube"}static get styles(){return[i`iframe .ytp-pause-overlay{display:none!important}`]}render(){return e`<slot></slot>`}static get properties(){return{...super.properties,id:{type:String},autoplay:{type:Boolean},height:{type:String},loop:{type:Boolean},muted:{type:Boolean},preload:{type:String,attribute:"preload",reflect:!0},playbackRate:{type:Number,attribute:"playback-rate"},t:{type:Number,attribute:"t",reflect:!0},videoId:{type:String,attribute:"video-id",reflect:!0},volume:{type:Number},width:{type:String},__video:{type:Object},__yt:{type:Object}}}constructor(){super(),this.autoplay=!1,this.height="100%",this.loop=!1,this.playbackRate=1,this.preload="metadata",this.muted=!1,this.volume=.7,this.width="100%",this.__video=null,this.__yt=null}static warmConnections(){L.preconnected||(L.addPrefetch("preconnect","https://www.youtube-nocookie.com"),L.addPrefetch("preconnect","https://www.google.com"),L.addPrefetch("preconnect","https://googleads.g.doubleclick.net"),L.addPrefetch("preconnect","https://static.doubleclick.net"),L.preconnected=!0)}static addPrefetch(e,t,i){const a=globalThis.document.createElement("link");a.rel=e,a.href=t,i&&(a.as=i),globalThis.document.head.append(a)}get api(){let e="a11y-media-youtube-api",t=globalThis.document.querySelector(`#${e}`);return t||(t=globalThis.document.createElement("script"),t.setAttribute("id",e),t.setAttribute("src","https://www.youtube.com/iframe_api"),t.setAttribute("type","text/javascript"),globalThis.document.body.appendChild(t)),t}get buffered(){return this.__yt&&this.__yt.buffered&&this.__yt.buffered.length>0?this.__yt.buffered.end(0):-1}get currentTime(){return this.__yt&&this.__yt.getCurrentTime?this.__yt.getCurrentTime():void 0}get duration(){return this.__yt&&this.__yt.getDuration?this.__yt.getDuration():0}get paused(){return!this.__yt||!this.__yt.getPlayerState||1!==this.__yt.getPlayerState()}get seekable(){let e={length:0};return this.duration>0&&(e.length=1,e.start=e=>0,e.end=e=>this.duration),e}init(){globalThis.A11yMediaYoutubeManager.queue.push(this),globalThis.A11yMediaYoutubeManager.api?globalThis.YT&&globalThis.A11yMediaYoutubeManager.getIframes():(globalThis.onYouTubeIframeAPIReady=e=>{globalThis.A11yMediaYoutubeManager.getIframes()},globalThis.A11yMediaYoutubeManager.api=this.api)}updated(e){let t=!1,i=!1,a=!1;e.forEach(((e,s)=>{"muted"===s&&this.setMute(this.muted),"duration"===s&&this.duration>0&&this._handleMediaLoaded(),"loop"===s&&this.setLoop(this.loop),"currentTime"===s&&this.seek(this.currentTime),"playbackRate"===s&&this.setPlaybackRate(this.playbackRate),"volume"===s&&this.setVolume(this.volume),"videoId"===s&&this.videoId&&!this.__yt&&this.init(),["id","height","width","preload"].includes(s)&&this.__yt&&(t=!0),["autoplay","videoId","__video"].includes(s)&&this.__video&&(i=!0),["preload","t"].includes(s)&&("auto"===this.preload||this.t)&&(a=!0)})),t?this.__yt=this._preloadVideo(!0):i&&(this._loadVideo(),a&&this._autoMetadata())}play(){if(this.__yt||(this.__yt=this._preloadVideo(!1)),this.__yt&&this.__yt.playVideo&&this.__video&&this.videoId){this.__playQueued=!0;var e=this.__yt;setTimeout((function(){e.playVideo(),this.__playQueued=!1}),1e3)}}pause(){this.__yt&&this.__yt.pauseVideo&&this.__yt.pauseVideo()}seek(e=0){this.__yt&&this.__yt.seekTo&&this.__yt.seekTo(e,!0)}setLoop(e){this.__yt&&this.__yt.setLoop&&this.media.setLoop(e)}setMute(e){this.__yt&&(e&&this.__yt.mute?this.__yt.mute():this.__yt.unMute&&this.__yt.unMute())}setPlaybackRate(e){this.__yt&&this.__yt.setPlaybackRate&&this.__yt.setPlaybackRate(Number(e))}setVolume(e=.7){this.__yt&&this.__yt.setVolume(100*e)}_getSeconds(e=0){let t=e.replace(/[hm]{1,2}&?/g,":0").replace(/[s]{1,2}$/g,"").split(/:/);return 3600*(t.length>2?parseInt(t[t.length-3]):0)+60*(t.length>1?parseInt(t[t.length-2]):0)+(t.length>0?parseFloat(t[t.length-1]):0)}_handleMediaStateChange(e){this.dispatchEvent(new CustomEvent("mediastatechange",{bubbles:!0,cancelable:!0,composed:!0,detail:e}))}_handleMediaLoaded(e){this.dispatchEvent(new CustomEvent("loadedmetadata",{bubbles:!0,cancelable:!0,composed:!0,detail:this}))}_handleTimeupdate(){this.dispatchEvent(new CustomEvent("timeupdate",{bubbles:!0,cancelable:!0,composed:!0,detail:this}))}_autoMetadata(){let e=this.t||0,t=this.autoplay;this.setMute(!0),this.__yt.playVideo();let i=12e4,a=setInterval((()=>{i--,(this.duration&&this.duration>0||i<=0)&&(this.pause(),this.setMute(this.muted),clearInterval(a),this.seek(e),t&&this.play())}),1);this.seek(e)}_loadVideo(e=this.preload){this.videoId&&this.__video.cueVideoById({videoId:this.videoId})}_preloadVideo(e=!1){let t=this,i=(!e||"none"!==this.preload)&&this.videoId&&!this.__video,a=globalThis.document.createElement("div"),s=`container-${this.id}`,o=null;if(globalThis.document.body.appendChild(a),a.setAttribute("id",s),i){L.addPrefetch("preload",`https://img.youtube.com/vi/${this.videoId.replace(/[\?&].*/,"")}/hqdefault.jpg`,"image");let e=e=>this.__video=e.target,i=globalThis.location.port?`:${globalThis.location.port}`:"",r=`${globalThis.location.protocol}//${globalThis.location.hostname}${i}`;o=new YT.Player(s,{width:t.width,height:t.height,events:{onReady:e},playerVars:{color:"white",controls:0,autoplay:t.autoplay,disablekb:1,enablejsapi:1,origin:r,iv_load_policy:3,modestbranding:1,rel:0,widget_referrer:globalThis.location.href}}),o.timeupdate,o.addEventListener("onStateChange",(e=>{t.paused?clearInterval(o.timeupdate):o.timeupdate=setInterval((()=>t._handleTimeupdate()),1),this._handleMediaStateChange(e)})),this.innerHTML="",this.appendChild(o.getIframe()),a.remove()}return o}_removeIframe(){if(this.__yt){this.__yt.remove;try{this.__yt.destroy()}catch(e){console.warn(e)}}this.innerHTML=""}connectedCallback(){super.connectedCallback(),L.warmConnections()}disconnectedCallback(){this._removeIframe(),super.disconnectedCallback()}}customElements.define(L.tag,L);
/**
 * Copyright 2019 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
class A extends(h(r)){static get styles(){return[super.styles,i`:host{display:block;overflow:hidden;width:calc(100% - 2px);font-family:var(--ddd-font-navigation);--a11y-media-controls-font-family:var(--ddd-font-navigation);--a11y-media-player-height:unset;--a11y-media-color:var(
            --simple-colors-default-theme-grey-11,
            #111111
          );--a11y-media-bg-color:var(
            --simple-colors-default-theme-grey-2,
            #eeeeee
          );--a11y-media-border-color:var(
            --simple-colors-default-theme-grey-3,
            #dddddd
          );--a11y-media-hover-color:var(
            --simple-colors-default-theme-grey-12,
            #000000
          );--a11y-media-hover-bg-color:var(
            --simple-colors-default-theme-grey-2,
            #eeeeee
          );--a11y-media-accent-color:var(
            --simple-colors-default-theme-accent-9,
            #333333
          );--a11y-media-faded-accent-color:var(
            --simple-colors-default-theme-accent-8,
            #444444
          );--a11y-media-disabled-color:var(
            --simple-colors-default-theme-grey-5,
            #bbbbbb
          );border:1px solid var(--a11y-media-border-color,var(--simple-colors-default-theme-grey-3));--a11y-media-settings-menu-color:var(--a11y-media-color);--a11y-media-settings-menu-bg-color:var(--a11y-media-bg-color);--a11y-media-settings-menu-hover-color:var(--a11y-media-hover-color);--a11y-media-settings-menu-hover-bg-color:var(
            --a11y-media-hover-bg-color
          );--simple-fields-accent-color:var(--a11y-media-accent-color);--simple-fields-background-color:var(--a11y-media-bg-color);--simple-fields-color:var(--a11y-media-color);--simple-fields-border-color:var(--a11y-media-border-color);--simple-fields-border-color-light:var(
            --a11y-media-border-color-light,
            var(--a11y-media-border-color)
          );--a11y-media-button-color:var(--a11y-media-color);--a11y-media-button-bg-color:var(--a11y-media-bg-color);--a11y-media-button-hover-color:var(--a11y-media-accent-color);--a11y-media-button-hover-bg-color:var(--a11y-media-hover-bg-color);--a11y-media-button-disabled-color:var(--a11y-media-disabled-color);--a11y-media-button-toggle-color:var(
            --a11y-media-faded-accent-color
          );--simple-range-input-bg:var(--a11y-media-accent-color);--simple-range-input-color:var(--a11y-media-color);--simple-range-input-track-height:4px;--simple-range-input-pin-height:10px;--simple-toast-color:var(--a11y-media-color);--simple-toast-background-color:var(--a11y-media-bg-color);--a11y-media-transcript-color:var(
            --simple-colors-default-theme-grey-7,
            #666666
          );--a11y-media-transcript-bg-color:var(
            --simple-colors-default-theme-grey-1,
            #ffffff
          );--a11y-media-transcript-accent-color:var(
            --simple-colors-default-theme-accent-8,
            #444444
          );--a11y-media-transcript-faded-accent-color:var(
            --simple-colors-default-theme-accent-10,
            #222222
          );--a11y-media-transcript-cue-color:var(
            --simple-colors-fixed-theme-grey-12,
            #000000
          );--a11y-media-transcript-cue-bg-color:var(
            --simple-colors-fixed-theme-grey-1,
            #ffffff
          );--a11y-media-transcript-active-cue-color:var(
            --simple-colors-fixed-theme-grey-12,
            #000000
          );--a11y-media-transcript-active-cue-bg-color:var(
            --simple-colors-fixed-theme-accent-1,
            #ffffff
          );--a11y-media-transcript-focused-cue-color:var(
            --simple-colors-fixed-theme-grey-12,
            #000000
          );--a11y-media-transcript-focused-cue-bg-color:var(
            --simple-colors-fixed-theme-grey-2,
            #eeeeee
          );--a11y-media-transcript-match-color:var(
            --simple-colors-fixed-theme-grey-1,
            #ffffff
          );--a11y-media-transcript-match-bg-color:var(
            --simple-colors-fixed-theme-accent-10,
            #222222
          );--a11y-media-transcript-match-border-color:var(
            --simple-colors-fixed-theme-accent-12,
            #000000
          )}:host([dark]){border:1px solid var(--simple-colors-default-theme-grey-1,#000)}:host([dark-transcript]){--a11y-media-transcript-bg-color:var(
            --simple-colors-dark-theme-grey-1,
            #000000
          );--a11y-media-transcript-cue-color:var(
            --simple-colors-dark-theme-grey-12,
            #ffffff
          );--a11y-media-transcript-cue-bg-color:var(
            --simple-colors-dark-theme-grey-1,
            #000000
          );--a11y-media-transcript-active-cue-color:var(
            --simple-colors-dark-theme-accent-10,
            #dddddd
          );--a11y-media-transcript-active-cue-bg-color:var(
            --simple-colors-dark-theme-grey-1,
            #000000
          );--a11y-media-transcript-match-color:var(
            --simple-colors-dark-theme-grey-1,
            #000000
          );--a11y-media-transcript-match-bg-color:var(
            --simple-colors-dark-theme-accent-10,
            #dddddd
          );--a11y-media-transcript-match-border-color:var(
            --simple-colors-dark-theme-accent-12,
            #ffffff
          );--a11y-media-transcript-focused-cue-color:var(
            --simple-colors-dark-theme-grey-12,
            #ffffff
          );--a11y-media-transcript-focused-cue-bg-color:var(
            --simple-colors-dark-theme-grey-2,
            #111111
          )}:host ::-webkit-scrollbar{width:var(--a11y-media-scrollbar-width,5px)}:host([hidden]),[hidden]{display:none!important}:host([height]){height:calc(var(--a11y-media-player-height) - 2px);max-height:calc(var(--a11y-media-player-height) - 2px);overflow:unset}:host([height]) #player-section{max-height:var(--a11y-media-player-height)}:host([height]) #player-and-controls{max-height:calc(100% - 32px - 44px)}:host([height]) #player{height:calc(100% - 32px - 44px);padding-top:unset}#player-section,:host{color:var(--a11y-media-hover-color);background-color:var(--a11y-media-bg-color)}:host>*{transition:all .5s}#player,#player-section,#transcript-and-controls,#transcript-section,:host{display:flex;flex-flow:column;align-items:stretch;align-content:stretch}#captionlink:link{text-decoration:none}#cc-custom,#cc-text,#controls,#player,#player-and-controls,#player-section,#player>*,#slider,#transcript-and-controls,#transcript-section{width:100%}#transcript-and-controls>*{width:calc(100% - 1px)}#cc-text,#player,#player-and-controls,#player>*,:host>*{flex:1 1 auto}#controls,#searchbar{flex:0 0 44px}#player-and-controls{margin:0 auto;display:flex}#player{height:400px;position:relative;background-size:cover;background-position:center}#player>*{position:absolute;top:0;left:0;height:100%}#controls,#playbutton,#slider{z-index:2}#html5{min-width:100px;display:flex;align-items:stretch}:host([audio-only]) #playbutton{opacity:0}#slider{flex:0 0 32px;height:32px;background-color:var(--a11y-media-bg-color);--simple-range-input-pin-height:15px}a11y-media-youtube{opacity:1;transition:opacity .5s}a11y-media-youtube.hidden{opacity:0}#cc-custom:not([hidden]){font-size:20px;transition:font-size .25s;display:flex}#cc-text{align-self:flex-end;font-family:sans-serif;color:#fff;margin:4px 10px;padding:.15em 4px;background-color:#000;background-color:rgba(0,0,0,.8);transition:all .5s}#player-and-controls[audio-no-thumb] #cc-text{align-self:center;color:var(--a11y-media-color);background-color:transparent}#controls{display:block;width:100%;max-width:100%;height:44px;max-height:44px;position:relative;color:var(--a11y-media-color);background-color:var(--a11y-media-bg-color);--primary-text-color:var(--a11y-media-settings-menu-color)}#controls-left{position:absolute;left:0;min-width:200px}#controls-right{position:absolute;right:0;top:0}absolute-position-behavior{background-color:var(--a11y-media-settings-menu-bg-color);color:var(--a11y-media-settings-menu-color);border:1px solid var(--a11y-media-border-color,var(--simple-colors-default-theme-grey-3));max-height:200px;overflow-y:scroll;overflow-x:hidden}absolute-position-behavior::-webkit-scrollbar-track{background-color:var(--a11y-media-settings-menu-bg-color)}absolute-position-behavior::-webkit-scrollbar-thumb{background-color:var(--a11y-media-settings-menu-color)}absolute-position-behavior .setting{min-height:42px;padding:2px 10px;display:flex;justify-content:space-between;align-items:center}absolute-position-behavior simple-field-field{margin-top:0!important;margin-bottom:0!important;background-color:var(--a11y-media-settings-menu-bg-color);color:var(--a11y-media-settings-menu-color)}.setting-text{margin-right:1em;font-family:var(--a11y-media-controls-font-family)}.setting-control{max-width:110px}.setting-slider{flex:0 0 110px;margin-left:-15px;margin-right:-15px}#loop{flex:0 0 40px}#loop-label{flex:1 1 auto}.play-status{border:none;position:relative;font-size:85%;font-family:var(--a11y-media-controls-font-family)}.play-status.control-bar{padding:8px 13px 8px}:host([hide-play-status]) .play-status{display:none}#volume-and-mute{display:inline-block;position:relative}#volume{position:absolute;left:30px;top:0;width:0;height:40px;overflow:hidden;transition:width .5s;z-index:3;border-radius:4px;background-color:var(--a11y-media-bg-color)}#volume-and-mute:active #volume,#volume-and-mute:focus #volume,#volume-and-mute:hover #volume,#volume.focus,#volume:active,#volume:focus,#volume:hover{overflow:visible;width:100px}:host([responsive-size=xs]) #volume-and-mute:active #volume,:host([responsive-size=xs]) #volume-and-mute:focus #volume,:host([responsive-size=xs]) #volume-and-mute:hover #volume,:host([responsive-size=xs]) #volume.focus,:host([responsive-size=xs]) #volume:active,:host([responsive-size=xs]) #volume:focus,:host([responsive-size=xs]) #volume:hover,:host([width]) #volume-and-mute:active #volume,:host([width]) #volume-and-mute:focus #volume,:host([width]) #volume-and-mute:hover #volume,:host([width]) #volume.focus,:host([width]) #volume:active,:host([width]) #volume:focus,:host([width]) #volume:hover{top:0}#print-thumbnail{width:100%;margin:0;display:block;border-top:1px solid #aaa}.media-caption:not(:empty){padding:var(--ddd-spacing-2) var(--ddd-spacing-4);font-size:var(--ddd-font-size-xs);font-weight:700}.media-type{font-style:italic}#searchbar{display:flex;align-items:stretch;justify-content:space-between;height:44px;max-height:44px;min-height:44px;width:100%;color:var(--a11y-media-color);background-color:var(--a11y-media-transcript-bg-color);--simple-fields-color:var(--a11y-media-color);--a11y-media-button-bg-color:var(--a11y-media-transcript-bg-color);--a11y-media-button-hover-bg-color:var(
            --a11y-media-transcript-bg-color
          );--simple-search-input-background-color:var(
            --a11y-media-transcript-bg-color
          );--simple-search-input-text-color:var(--a11y-media-color);--simple-search-input-line-color:var(--a11y-media-accent-color);--simple-search-input-placeholder-color:var(--a11y-media-color);--simple-search-button-color:var(--a11y-media-accent-color);--simple-search-button-hover-color:var(
            --a11y-media-faded-accent-color
          );--simple-search-button-bg-color:var(
            --a11y-media-transcript-bg-color
          );--simple-search-button-border-color:var(
            --a11y-media-transcript-bg-color
          );--simple-search-button-hover-border-color:var(
            --a11y-media-transcript-bg-color
          );--simple-search-button-disabled-color:var(
            --a11y-media-disabled-color
          );--simple-search-button-disabled-bg-color:var(
            --a11y-media-transcript-bg-color
          );--simple-search-button-disabled-border-color:var(
            --a11y-media-border-color
          );--simple-search-padding:0 15px}:host([dark]) #searchbar{background-color:var(--a11y-media-bg-color);--a11y-media-button-bg-color:var(--a11y-media-bg-color);--a11y-media-button-hover-bg-color:var(--a11y-media-bg-color);--simple-search-input-background-color:var(--a11y-media-bg-color);--simple-search-button-bg-color:var(--a11y-media-bg-color);--simple-search-button-border-color:var(--a11y-media-bg-color);--simple-search-button-hover-border-color:var(--a11y-media-bg-color);--simple-search-button-disabled-bg-color:var(--a11y-media-bg-color)}#searching{flex-grow:2}#autoscroll{padding-right:8px}#printing,#scrolling{display:flex;align-items:center}#transcript-section{padding:0 1px 0 0}#transcript-and-controls{flex:1 0 194px}#transcript{flex:1 0 150px;max-height:var(--a11y-media-transcript-max-height,unset);overflow-y:scroll;color:var(--a11y-media-transcript-cue-color);background-color:var(--a11y-media-transcript-cue-bg-color);border-left:1px solid var(--a11y-media-transcript-bg-color)}#transcript::-webkit-scrollbar-track{background-color:var(--a11y-media-transcript-cue-bg-color)}#transcript::-webkit-scrollbar-thumb{background-color:var(--a11y-media-transcript-cue-color)}.transcript-from-track{display:table;width:calc(100% - 30px);padding:0 15px 15px;color:var(--a11y-media-transcript-cue-color);background-color:var(--a11y-media-transcript-cue-bg-color);font-size:var(--a11y-media-transcript-cue-font-size,14px);line-height:var(--a11y-media-transcript-cue-line-height,28px)}.transcript-from-track[hideTimestamps]{display:block}.sr-only{position:absolute;left:-9999px;font-size:0;height:0;width:0;overflow:hidden}absolute-position-behavior:not(:defined),simple-tooltip:not(:defined){display:none}::slotted(iframe){display:none}@media screen{:host([full-flex]){flex-flow:row;padding:0}:host([full-flex]) #player-section{max-width:50%;flex:1 0 auto}:host([full-flex]) #transcript-section{min-width:50%;flex:0 1 auto}:host([full-flex]) #transcript{position:absolute;top:44px;left:0;right:0;bottom:0;overflow-y:scroll}#transcript-and-controls{position:relative}:host([sticky-mode]) #player-section{position:fixed;top:5px;right:5px;width:200px;max-width:200px;z-index:999999;border:1px solid var(--a11y-media-bg-color);box-shadow:1px 1px 20px 1px rgba(125,125,125);border-radius:3.2px}:host([fullscreen]) #player-section{width:100%;height:100vh;max-width:100vw;position:absolute;position:sticky;left:0;top:0;z-index:100000;transition:all .5s}:host([dark][sticky-mode]) #player-section{border:1px solid var(--a11y-media-bg-color)}:host([sticky][sticky-corner=top-left]) #player-section{right:unset;left:5px}:host(:not([no-height]):not([stacked-layout]):not([responsive-size=xs]):not([responsive-size=sm])) #player-and-controls.totop{position:absolute;top:0;left:0;width:200px!important;z-index:9999}:host([sticky][sticky-corner=bottom-left]) #player-and-controls{top:unset;right:unset;bottom:5px}:host([sticky][sticky-corner=bottom-right]) #player-and-controls{top:unset;bottom:5px}:host([responsive-size=xs]) .screen-only.media-caption,:host([sticky-mode]) .screen-only.media-caption{display:none}:host([sticky-mode]) #player-and-controls[audio-no-thumb]{max-height:0;overflow:hidden}:host([flex-layout]) .hide-flex,:host([responsive-size=sm]) .hide-full-flex,:host([responsive-size=sm]) .hide-full-sm,:host([responsive-size=xs]) .hide-full-flex,:host([responsive-size=xs]) .hide-full-sm,:host([responsive-size=xs]) .hide-full-xs,:host([sticky-mode]) .hide-flex,:host([sticky-mode]) .hide-full-sm,:host([sticky-mode]) .hide-full-xs,:host([sticky-mode]) .hide-sticky,:host([width]) .hide-full-flex,:host([width]) .hide-full-sm,:host([width]) .hide-full-xs{display:none}:host([responsive-size=xl]) #cc-custom{font-size:16px}:host([flex-layout][responsive-size=xl]) #cc-custom,:host([responsive-size=lg]) #cc-custom{font-size:14px}:host([flex-layout][responsive-size=lg]) #cc-custom,:host([responsive-size=md]) #cc-custom{font-size:12px}:host([flex-layout][responsive-size=md]) #cc-custom,:host([flex-layout][responsive-size=sm]) #cc-custom,:host([responsive-size=xs]) #cc-custom,:host([width]) #cc-custom{font-size:10px}:host([flex-layout][responsive-size=xs]) #cc-custom,:host([flex-layout][width]) #cc-custom,:host([sticky-mode]) #cc-custom{display:none}.media-caption{color:var(--a11y-media-caption-color,var(--a11y-media-bg-color));background-color:var(--a11y-media-accent-color)}#audio-only{text-align:center;font-style:italic;width:100%;line-height:160%}#print-thumbnail,.print-only{width:0;display:none}}@media print{:host,:host([dark]){outline:1px solid #aaa;background-color:#fff}#print-thumbnail:not([src]),#searchbar,.screen-only,:host(:not([thumbnail-src])) #player{display:none}.media-caption{background-color:#ccc;color:#000;font-size:120%}#transcript{padding:0 15px 5px;color:#000;background-color:#fff;border-top:1px solid #aaa}}`]}render(){return e` <div class="sr-only" ?hidden="${!this.mediaCaption}"> ${this.mediaCaption} </div> <div id="player-section"> <div id="player-and-controls" .style="${this.mediaMaxWidth}" ?audio-no-thumb="${this.audioNoThumb}"> <div id="player" .style="${this.playerStyle}"> <a11y-media-play-button id="playbutton" action="${this.__playing?"pause":"play"}" label="${this._getLocal(this.localization,this.__playing?"pause":"play","label")}" @button-click="${this.togglePlay}" ?audio-only="${this.audioOnly}" ?disabled="${this.audioNoThumb}" youtube-id="${this.youtubeId}"> </a11y-media-play-button> <div id="html5"> <slot></slot> </div> ${this.videoId&&this.__playerReady?e` <a11y-media-youtube id="youtube-${this.id}" class="${this.__currentTime>.3||this.__seeking?"":"hidden"}" lang="${this.mediaLang}" preload="${this.t?"auto":this.preload}" .t="${this.t}" video-id="${this.videoId}" playback-rate="${this.playbackRate}" @timeupdate="${this._handleTimeUpdate}" ?hidden="${!this.isYoutube}"> </a11y-media-youtube> `:""} ${0!==Object.keys(this.captionCues||[]).length&&this.showCustomCaptions?e` <div id="cc-custom" aria-live="polite" class="screen-only"> <div id="cc-text"> ${this.captionCues?Object.keys(this.captionCues).map((t=>e`${this.captionCues[t].text?this.captionCues[t].text:""}`)):""} </div> </div> `:e``} </div> </div> <div id="progresslabel" class="sr-only"> ${this._getLocal(this.localization,"seekSlider","label")} </div> <simple-range-input id="slider" class="screen-only" aria-labelledby="progresslabel" min="0" .max="${this.duration}" step="1" @value-changed="${this._handleSliderChanged}" @immediate-value-changed="${this._handleSliderDragging}" .value="${this.__currentTime}" ?disabled="${this.disableSeek}"> </simple-range-input> <div id="controls" controls="innerplayer"> <div id="controls-left"> <a11y-media-button accent-color="${this.accentColor}" ?dark="${this.dark}" icon="${this._getLocal(this.localization,this.__playing?"pause":"play","icon")}" label="${this._getLocal(this.localization,this.__playing?"pause":"play","label")}" @click="${this.togglePlay}"></a11y-media-button> <a11y-media-button accent-color="${this.accentColor}" ?dark="${this.dark}" class="hide-flex hide-full-xs" icon="${this._getLocal(this.localization,"rewind","icon")}" label="${this._getLocal(this.localization,"rewind","label")}" ?disabled="${this.disableSeek||this.currentTime<=0}" ?hidden="${this.disableSeek}" @click="${e=>{this.rewind()}}"></a11y-media-button> <a11y-media-button accent-color="${this.accentColor}" ?dark="${this.dark}" class="hide-flex hide-full-xs" icon="${this._getLocal(this.localization,"forward","icon")}" label="${this._getLocal(this.localization,"forward","label")}" ?disabled="${this.disableSeek||this.currentTime>=this.duration}" ?hidden="${this.disableSeek}" @click="${e=>{this.forward()}}"></a11y-media-button> <a11y-media-button accent-color="${this.accentColor}" ?dark="${this.dark}" class="hide-flex" icon="${this._getLocal(this.localization,"restart","icon")}" label="${this._getLocal(this.localization,"restart","label")}" ?disabled="${this.disableSeek}" ?hidden="${"xs"===this.responsiveSize||"sm"===this.responsiveSize||this.disableSeek}" @click="${this.restart}"></a11y-media-button> <div id="volume-and-mute" @focus="${e=>this.__volumeSlider=!0}" @blur="${e=>this.__volumeSlider=!1}"> <a11y-media-button accent-color="${this.accentColor}" ?dark="${this.dark}" id="mute" icon="${this._getLocal(this.localization,this.muted?"unmute":"mute","icon")}" label="${this._getLocal(this.localization,this.muted?"unmute":"mute","label")}" @click="${e=>{this.toggleMute()}}"></a11y-media-button> <simple-range-input id="volume" accent-color="${this.accentColor}" ?dark="${this.dark}" aria-labelledby="volume-slider-label" label="${this._getLocal(this.localization,"volume","label")}" min="0" max="100" pin step="10" value="${this.muted?0:this.volume}" @value-changed="${this._handleVolumeChanged}" ?hidden="${"xs"===this.responsiveSize}"></simple-range-input> </div> <span aria-live="polite" class="play-status control-bar hide-full-xs"> <span id="statbar">${this.status}</span> </span> </div> <div id="controls-right"> <a11y-media-button accent-color="${this.accentColor}" ?dark="${this.dark}" icon="${this._getLocal(this.localization,"captions","icon")}" label="${this._getLocal(this.localization,"captions","label")}" ?disabled="${!this.hasCaptions}" ?hidden="${!this.hasCaptions}" ?toggle="${this.captionsTrackKey>-1}" @click="${e=>this.toggleCC()}"> </a11y-media-button> <a11y-media-button accent-color="${this.accentColor}" ?dark="${this.dark}" class="hide-full-xs" controls="transcript" icon="${this._getLocal(this.localization,"transcript","icon")}" label="${this._getLocal(this.localization,"transcript","label")}" ?disabled="${!this.hasCaptions||this.learningMode}" ?hidden="${!this.hasCaptions||this.standAlone||this.height&&this.responsiveSize.indexOf("s")>-1||this.learningMode}" ?toggle="${this.transcriptTrackKey>-1}" @click="${e=>this.toggleTranscript()}"> </a11y-media-button> <a11y-media-button accent-color="${this.accentColor}" ?dark="${this.dark}" class="hide-full-sm" icon="${this._getLocal(this.localization,"copyLink","icon")}" label="${this._getLocal(this.localization,"copyLink","label")}" ?disabled="${!this.linkable||this.learningMode}" ?hidden="${!this.linkable||this.learningMode}" @click="${this._handleCopyLink}"></a11y-media-button> <a11y-media-button accent-color="${this.accentColor}" ?dark="${this.dark}" icon="${this._getLocal(this.localization,"fullscreen","icon")}" label="${this._getLocal(this.localization,"fullscreen","label")}" ?hidden="${this.audioNoThumb||!this.fullscreenButton}" ?toggle="${this.fullscreen}" @click="${e=>this.toggleFullscreen()}"> </a11y-media-button> <a11y-media-button accent-color="${this.accentColor}" ?dark="${this.dark}" id="settings-button" class="hide-sticky" controls="settings" icon="${this._getLocal(this.localization,"settings","icon")}" label="${this._getLocal(this.localization,"settings","label")}" @click="${e=>this.toggleSettings()}"></a11y-media-button> ${this.isYoutube?e` <a11y-media-button accent-color="${this.accentColor}" ?dark="${this.dark}" class="hide-sticky" icon="mdi-social:youtube" label="Open on YouTube" ?hidden="${this.learningMode||this.hideYoutubeLink}" @click="${this.goToYoutube}"></a11y-media-button>`:""} </div> <absolute-position-behavior id="settings" auto fit-to-visible-bounds for="settings-button" offset="10" position-align="end" position="top" ?hidden="${!this.__settingsOpen}"> <div class="setting" ?hidden="${!this.hasCaptions}"> <div class="setting-text"> ${this._getLocal(this.localization,"captions","label")} </div> <simple-fields-field id="cc_tracks" class="setting-control" value="${this.captionsTrackKey}" .options="${this.captionsPicker}" ?hidden="${!this.hasCaptions}" ?disabled="${!this.hasCaptions}" @value-changed="${this.selectCaptionByKeyEvent}" type="select"> </simple-fields-field> </div> <div class="setting" ?hidden="${!this.hasCaptions||this.learningMode}"> <div class="setting-text"> ${this._getLocal(this.localization,"transcript","label")} </div> <simple-fields-field id="transcript_tracks" class="setting-control" .value="${this.transcriptTrackKey}" .options="${this.transcriptPicker}" ?hidden="${!this.hasCaptions||this.learningMode}" ?disabled="${!this.hasCaptions||this.learningMode}" @value-changed="${this.selectTranscriptByKeyEvent}" type="select"> </simple-fields-field> </div> <div class="setting" ?hidden="${!this.hasCaptions||this.learningMode}"> <div id="print-label" class="setting-text"> ${this._getLocal(this.localization,"print","label")} </div> <a11y-media-button accent-color="${this.accentColor}" ?dark="${this.dark}" aria-labelledby="print-label" class="setting-control" icon="${this._getLocal(this.localization,"print","icon")}" ?disabled="${this.noPrinting||this.learningMode}" ?hidden="${this.noPrinting||this.learningMode}" @click="${this.print}"> </a11y-media-button> </div> <div class="setting" ?hidden="${!this.hasCaptions||this.learningMode}"> <div id="download-label" class="setting-text"> ${this._getLocal(this.localization,"download","label")} </div> <a11y-media-button accent-color="${this.accentColor}" ?dark="${this.dark}" aria-labelledby="download-label" class="setting-control" icon="${this._getLocal(this.localization,"download","icon")}" ?disabled="${this.noPrinting||this.learningMode}" ?hidden="${this.noPrinting||this.learningMode}" @click="${this.download}"> </a11y-media-button> </div> <div class="setting"> <div id="loop-label" class="setting-text"> ${this._getLocal(this.localization,"loop","label")} </div> <simple-fields-field type="checkbox" id="loop" class="setting-control" aria-labelledby="loop-label" @value-change="${this.toggleLoop}" ?value="${this.loop}"> </simple-fields-field> </div> <div class="setting"> <div id="speed-label" class="setting-text"> ${this._getLocal(this.localization,"speed","label")} </div> <simple-range-input id="speed" aria-labelledby="speed-label" class="setting-slider setting-control" min="0.5" max="2.5" pin step="0.25" value="${this.playbackRate}" @value-changed="${this._handleSpeedChanged}"> </simple-range-input> </div> </absolute-position-behavior> </div> <div aria-hidden="true" class="screen-only media-caption" ?hidden="${!this.mediaCaption}"> ${this.mediaCaption} </div> <div class="print-only media-caption">${this.printCaption}</div> </div> ${this.poster?e`<img id="print-thumbnail" aria-hidden="true" .src="${this.poster}">`:""} <div id="transcript-section" ?hidden="${this.standAlone||!this.hasCaptions}"> <div id="transcript-and-controls" ?hidden="${this.hideTranscript}"> <div id="searchbar"> <div id="searching"> <simple-search id="simplesearch" controls="transcript" next-button-icon="${this._getLocal(this.localization,"nextResult","icon")}" next-button-label="${this._getLocal(this.localization,"nextResult","label")}" prev-button-icon="${this._getLocal(this.localization,"prevResult","icon")}" prev-button-label="${this._getLocal(this.localization,"prevResult","label")}" search-input-icon="${this._getLocal(this.localization,"search","icon")}" search-input-label="${this._getLocal(this.localization,"search","label")}" selector=".searchable" ?disabled="${this.disableSearch}" ?hidden="${this.disableSearch}"> </simple-search> </div> <div id="scrolling"> <a11y-media-button accent-color="${this.accentColor}" ?dark="${this.dark}" id="scroll" controls="transcript" icon="${this._getLocal(this.localization,"autoScroll","icon")}" label="${this._getLocal(this.localization,"autoScroll","label")}" ?toggle="${!this.disableScroll}" @click="${e=>this.disableScroll=!this.disableScroll}"> </a11y-media-button> </div> <div id="printing" ?hidden="${this.disablePrintButton}" ?disabled="${this.disablePrintButton}"> <a11y-media-button accent-color="${this.accentColor}" ?dark="${this.dark}" id="download" controls="transcript" icon="${this._getLocal(this.localization,"download","icon")}" label="${this._getLocal(this.localization,"download","label")}" @click="${this.download}"> </a11y-media-button> <a11y-media-button accent-color="${this.accentColor}" ?dark="${this.dark}" id="print" controls="transcript" icon="${this._getLocal(this.localization,"print","icon")}" label="${this._getLocal(this.localization,"print","label")}" @click="${this.print}"> </a11y-media-button> </div> </div> <div id="transcript" aria-live="polite"> <a id="transcript-desc" class="sr-only" href="#bottom"> ${this._getLocal(this.localization,"transcript","skip")} </a> ${this.transcriptCues.length>0?e` <div class="transcript-from-track"> ${this.transcriptCues.map(((t,i)=>e` <a11y-media-transcript-cue controls="html5" end="${this._getHHMMSS(t.endTime,this.media.duration)}" lang="${t.track.language}" role="button" start="${this._getHHMMSS(t.endTime,this.media.duration)}" tabindex="0" @click="${e=>this._handleCueSeek(t)}" @active-changed="${this._setActiveCue}" ?active="${t.track.activeCues&&t.track.activeCues[0]===t}" ?disabled="${this.disableInteractive||this.disableSeek||0===this.duration}" ?hide-timestamps="${this.hideTimestamps}"> <span class="searchable">${t.text}</span> </a11y-media-transcript-cue> `))} </div> `:e` <div id="loading" class="transcript-from-track"> ${this.status} </div>`} </div> </div> </div> <div id="bottom" class="sr-only"></div>`}static get properties(){return{...super.properties,__playerReady:{type:Boolean},allowConcurrent:{attribute:"allow-concurrent",type:Boolean},audioOnly:{attribute:"audio-only",type:Boolean,reflect:!0},autoplay:{attribute:"autoplay",type:Boolean},captionsTrack:{attribute:"captions-track",type:Object},cc:{attribute:"cc",type:Boolean},currentTime:{type:Number},crossorigin:{attribute:"crossorigin",type:String},disablePrintButton:{attribute:"disable-print-button",type:Boolean},disableSearch:{attribute:"disable-search",type:Boolean},disableScroll:{attribute:"disable-scroll",type:Boolean},disableSeek:{attribute:"disable-seek",type:Boolean},darkTranscript:{attribute:"dark-transcript",type:Boolean},disableFullscreen:{attribute:"disable-fullscreen",type:Boolean},disableInteractive:{attribute:"disable-interactive",type:Boolean},height:{attribute:"height",type:String},hideElapsedTime:{attribute:"hide-elapsed-time",type:Boolean},hideTimestamps:{attribute:"hide-timestamps",type:Boolean},hideTranscript:{attribute:"hide-transcript",type:Boolean,reflect:!0},id:{attribute:"id",type:String,reflect:!0},lang:{attribute:"lang",type:String},learningMode:{attribute:"learning-mode",type:Boolean},linkable:{attribute:"linkable",type:Boolean},localization:{attribute:"localization",type:Object},loop:{attribute:"loop",type:Boolean},mediaLang:{attribute:"media-lang",type:String},mediaTitle:{attribute:"media-title",type:String},muted:{attribute:"muted",type:Boolean},hideYoutubeLink:{type:Boolean,attribute:"hide-youtube-link"},playbackRate:{attribute:"playback-rate",type:Number},preload:{attribute:"preload",type:String,reflect:!0},responsiveSize:{attribute:"responsive-size",type:String,reflect:!0},search:{attribute:"search",type:Object},standAlone:{attribute:"stand-alone",type:Boolean,reflect:!0},source:{type:String,reflect:!0},sources:{attribute:"sources",type:Array},stackedLayout:{attribute:"stacked-layout",type:Boolean},sticky:{attribute:"sticky",type:Boolean,reflect:!0},stickyCorner:{attribute:"sticky-corner",type:String,reflect:!0},thumbnailSrc:{attribute:"thumbnail-src",type:String,reflect:!0},tracks:{attribute:"tracks",type:Array},transcriptTrack:{attribute:"transcript-track",type:Object},volume:{attribute:"volume",type:Number},width:{attribute:"width",type:String},youtubeId:{attribute:"youtube-id",reflect:!0,type:String},__currentTime:{type:Number},__captionsOption:{type:Number},__cues:{type:Array},__loadedTracks:{type:Object},__playing:{type:Boolean},__preloadedDuration:{type:Number},__settingsOpen:{type:Boolean},__transcriptOption:{type:Number}}}static get tag(){return"a11y-media-player"}constructor(){super(),globalThis.ResponsiveUtility.requestAvailability(),globalThis.A11yMediaStateManager.requestAvailability(),this.__playerReady=!1,this.audioOnly=!1,this.autoplay=!1,this.allowConcurrent=!1,this.cc=!1,this.darkTranscript=!1,this.disableFullscreen=!1,this.disableInteractive=!1,this.disablePrintButton=!1,this.disableSearch=!1,this.disableScroll=!1,this.disableSeek=!1,this.hideElapsedTime=!1,this.hideTimestamps=!1,this.hideTranscript=!1,this.id=null,this.lang="en",this.learningMode=!1,this.linkable=!1,this.localization={},this.loop=!1,this.mediaTitle="",this.mediaLang="en",this.muted=!1,this.hideYoutubeLink=!1,this.preload="metadata",this.playbackRate=1,this.search=null,this.standAlone=!1,this.responsiveSize="sm",this.captionsTrack=null,this.transcriptTrack=null,this.sources=[],this.stackedLayout=!1,this.sticky=!1,this.stickyCorner="top-right",this.tracks=[],this.volume=70,this.width=null,this.youtubeId=null,this.__cues=[],this.__currentTime=0,this.__captionsOption=-1,this.__loadedTracks=null,this.__playing=!1,this.__settingsOpen=!1,this.__transcriptOption=-1,this.querySelectorAll("video,audio").forEach((e=>{e.addEventListener("loadedmetadata",(t=>{this.__preloadedDuration=e.duration}))}))}get anchor(){let e=globalThis.AnchorBehaviors;return{target:!!e&&e.getTarget(this),params:e?e.params:{}}}get aspect(){let e=this.media&&this.media.aspectRatio?this.media.aspectRatio:16/9;return null===this.width||this.width,this.style.maxWidth=this.width,e}get audioNoThumb(){return this.audioOnly&&(null===this.thumbnailSrc||void 0===this.thumbnailSrc)}get buffered(){return this.media&&this.media.buffered&&this.media.buffered>0?this.media.buffered:0}get captionCues(){return this.captionsTrack&&this.captionsTrack.cues?this.isYoutube?Object.keys(this.captionsTrack.cues).map((e=>{let t=this.captionsTrack.cues[e];return t.startTime<=this.currentTime&&t.endTime>=this.currentTime?t:{}})):this.captionsTrack.activeCues:[]}get captionsPicker(){let e={};return e[-1]=this._getLocal(this.localization,"captions","off"),Object.keys(this.loadedTracks&&this.loadedTracks.textTracks?this.loadedTracks.textTracks:{}).forEach((t=>{e[t]=this.loadedTracks.textTracks[t].label||this.loadedTracks.textTracks[t].language})),e}get captionsTrackKey(){return this.cc?this._getTrackId(this.captionsTrack):-1}get cues(){return this.__cues}get duration(){return this.media&&this.media.duration&&this.media.duration>0?this.media.duration:this.__preloadedDuration?this.__preloadedDuration:0}get flexLayout(){return this.hasCaptions&&!this.standAlone&&!this.hideTranscript&&!this.audioNoThumb&&!this.stackedLayout}get fullFlex(){return this.flexLayout&&"xs"!==this.responsiveSize&&"sm"!==this.responsiveSize}get fullscreenButton(){return this.fullscreenEnabled&&!this.disableFullscreen&&!this.audioNoThumb}get hasCaptions(){return this.cues.length>1}get isYoutube(){return!!this.youtubeId}get loadedTracks(){return this.__loadedTracks}get localizationDefaults(){return{audio:{label:"Audio",notSupported:"HTML5 video is not supported."},autoScroll:{label:"Scroll Transcript",icon:"swap-vert"},captions:{label:"Closed Captions",icon:"av:closed-caption",off:"Off"},download:{label:"Download Transcript",icon:"file-download"},forward:{label:"Forward",icon:"av:fast-forward"},fullscreen:{label:"Fullscreen",icon:"fullscreen"},copyLink:{label:"Copy Media Link",icon:"link"},closeLink:{label:"Close",icon:"close"},loading:{label:"Loading..."},loop:{label:"Loop Playback"},mute:{label:"Mute",icon:"av:volume-up"},nextResult:{label:"Next",icon:"arrow-forward"},pause:{label:"Pause",icon:"av:pause"},play:{label:"Play",icon:"av:play-arrow"},prevResult:{label:"Previous",icon:"arrow-back"},print:{label:"Print Transcript",icon:"print"},restart:{label:"Restart",icon:"av:replay"},rewind:{label:"Backward",icon:"av:fast-rewind"},search:{label:"Search the transcript.",icon:"search"},seekSlider:{label:"Seek Slider"},settings:{label:"Settings",icon:"settings"},speed:{label:"Speed %"},transcript:{label:"Transcript",icon:"description",loading:"Loading the transcript(s)...",off:"Off",skip:"Skip to the transcript."},unmute:{label:"Unmute",icon:"av:volume-off"},video:{label:"Video",notSupported:"HTML5 video is not supported."},volume:{label:"Volume"},youTubeLoading:{label:"Loading...",startLoading:"Press play."},youTubeTranscript:{label:"Transcript will load once media plays."}}}get media(){return this.isYoutube?this.youtube:this.loadedTracks}get mediaCaption(){let e=this._getLocal(this.localization,"audio","label"),t=void 0!==this.mediaTitle&&null!==this.mediaTitle&&""!==this.mediaTitle;return this.audioOnly&&t?this.mediaTitle+" ("+e+")":this.audioOnly?e:t?this.mediaTitle:void 0}get mediaEnd(){return!(!this.mediaSeekable||!this.media.seekable.end(0))&&this.media.seekable.end(0)}get mediaMaxWidth(){return`max-width:${this.fullscreen||this.audioNoThumb?"unset":`calc(${100*this.aspect}vh - ${80*this.aspect}px)`};`}get mediaSeekable(){return!(!this.media||!this.media.seekable)&&this.media.seekable.length>0}get mediaStart(){return this.mediaSeekable&&this.media.seekable.start(0)?this.media.seekable.start(0):0}get playing(){return this.__playing}get playerStyle(){return`height:${this.audioNoThumb?"60px":"unset"};padding-top:${this.fullscreen||this.audioNoThumb||this.audioOnly||this.height?"unset":100/this.aspect+"%"};${this.poster&&(this.isYoutube||this.audioOnly)?`background-image:url('${this.poster}');`:""}`}get poster(){let e=this.thumbnailSrc?this.thumbnailSrc:!(!this.media||this.media.poster)&&this.media.poster;return!this.thumbnailSrc&&this.youtubeId?`https://img.youtube.com/vi/${this.youtubeId.replace(/[\?&].*/,"")}/hqdefault.jpg`:e}get printCaption(){let e=this._getLocal(this.localization,"audio","label"),t=this._getLocal(this.localization,"video","label"),i=void 0!==this.mediaTitle&&null!==this.mediaTitle&&""!==this.mediaTitle;return this.audioOnly&&i?this.mediaTitle+" ("+e+")":this.audioOnly?e:i?this.mediaTitle+" ("+t+")":t}get currentTime(){let e=!!this.shadowRoot&&this.shadowRoot.querySelector("#slider");return e&&!e.disabled&&e.dragging?this.shadowRoot.querySelector("#slider").immediateValue:this.__currentTime}get shareLink(){let e=globalThis.location.href.split(/[#?]/)[0],t=this.id?`?id=${this.id}`:"";return`${e}${t}${""!==t&&this.currentTime&&0!==this.currentTime?`&t=${this.currentTime}`:""}`}get showCustomCaptions(){return(this.isYoutube||this.audioOnly)&&this.hasCaptions&&this.cc}get status(){return this.duration>0?e` ${this._getHHMMSS(this.currentTime,this.duration)}/${this._getHHMMSS(this.duration)} `:this.isYoutube?this.__playing?this._getLocal(this.localization,"youTubeLoading","label"):this._getLocal(this.localization,"youTubeLoading","startLoading"):this._getLocal(this.localization,"loading","label")}get stickyMode(){return this.sticky&&"none"!==this.stickyCorner}get t(){let e=this._getSeconds(this.anchor.params.t||this.anchor.params.start||"0s");return this.anchor&&this.anchor.target===this?e:this.videoData?this.videoData.t||this.videoData.start:void 0}get transcriptCues(){return(this.cues?this.cues.slice():[]).filter((e=>e.track===this.transcriptTrack))}get transcriptPicker(){let e={};return e[-1]=this._getLocal(this.localization,"transcript","off"),Object.keys(this.loadedTracks&&this.loadedTracks.textTracks?this.loadedTracks.textTracks:{}).forEach((t=>{e[t]=this.loadedTracks.textTracks[t].label||this.loadedTracks.textTracks[t].language})),e}get transcriptTrackKey(){return this.hideTranscript?-1:this._getTrackId(this.transcriptTrack)}get videoData(){if(this.youtubeId){let e=this.youtubeId.split(/[\?\&]/),t={};return t.videoId=e[0],e.forEach(((e,i)=>{if(i>0){let i=e.split(/=/);t[i[0]]=this._getSeconds(i[1])}})),t}}get videoId(){if(this.videoData)return this.videoData.videoId}get youtube(){return null!==this.shadowRoot.querySelector("a11y-media-youtube")&&this.shadowRoot.querySelector("a11y-media-youtube")}_setAttribute(e,t){t?this.setAttribute(e,t):this.removeAttribute(e)}updated(e){super.updated&&super.updated(e),e.forEach(((e,t)=>{"learningMode"===t&&(this.disableSeek=this[t],this.hideTranscript=this[t]);let i=e=>e.includes(t),a=e=>i(["__loadedTracks","youtubeId","media",e]),s=i(["standAlone","hideTranscript","audioNoThumb","stackedLayout","__cues"]),o=this.media?this.media:this.__loadedTracks;"id"===t&&null===this.id&&(this.id="a11y-media-player"+Date.now()),i(["media","muted"])&&this._handleMuteChanged(),i(["media","volume"])&&this.setVolume(this.volume),i(["media","autoplay"])&&this.autoplay&&this.play(),"__captionsOption"===t&&this._captionsOptionChanged(),i(["cc","captionsTrack"])&&this._captionsChanged(),s&&this._setAttribute("flex-layout",this.flexLayout),(s||"responsiveSize"===t)&&this._setAttribute("full-flex",this.fullFlex),i(["sticky","sticky-corner","__playing"])&&this._setAttribute("sticky-mode",this.stickyMode&&this.__playing),i(["height"])&&(this.style.setProperty("--a11y-media-player-height",this.height?this.height:"unset"),this.style.setProperty("--a11y-media-transcript-max-height",this.height?"146px":"unset")),null!==this.media&&(a("cc")&&this._setAttribute("cc",this.cc,this.__loadedTracks),a("isYoutube")&&this.__loadedTracks&&(this.__loadedTracks.hidden,this.isYoutube),a("mediaLang")&&this._setAttribute("lang",this.mediaLang,o),a("loop")&&this._setAttribute("loop",this.loop,o),a("playbackRate")&&this._setAttribute("playbackRate",this.playbackRate,o),a("isYoutube")&&this._setAttribute("poster",!this.isYoutube&&this.thumbnailSrc,this.__loadedTracks),!i(["isYoutube","poster","media","audioOnly"])||!this.poster||this.isYoutube||this.audioOnly||this.media.poster||(this.media.poster=this.poster)),this.dispatchEvent(new CustomEvent(`${t.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}-changed`,{detail:{value:this[t]}}))}))}_captionsChanged(){let e=-1;Object.keys(this.loadedTracks.textTracks).forEach((t=>{let i=this.cc&&this.loadedTracks.textTracks[t]===this.captionsTrack;this.loadedTracks.textTracks[t].mode=i?"showing":"hidden",i&&(e=t)})),this.__captionsOption=e}_captionsOptionChanged(){this.cc=this.__captionsOption>-1,Object.keys(this.loadedTracks.textTracks).forEach((e=>{let t=parseInt(e)==parseInt(this.__captionsOption);this.loadedTracks.textTracks[e].mode=t?"showing":"hidden",t&&(this.captionsTrack=this.loadedTracks.textTracks[e])}))}_handleMuteChanged(){this.media&&(this.media.muted=this.muted),this.dispatchEvent(new CustomEvent("mute-changed",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}download(){let e=globalThis.document.createElement("a"),t=this.mediaTitle&&""!=this.mediaTitle.trim()?`${this.mediaTitle} (${this._getLocal(this.localization,"transcript","label")})`:this._getLocal(this.localization,"transcript","label"),i=t.replace(/[^\w\d]/g,""),a=this.transcriptTrack.cues,s=Object.keys(a).map((e=>`${this._getHHMMSS(a[e].startTime)} - ${this._getHHMMSS(a[e].endTime)}: \t${a[e].text.replace(/[\n\r\s*]/g," ")}\n`)).join("");e.setAttribute("href","data:text/plain;charset=UTF-8,"+encodeURIComponent(t+"\n"+s)),e.setAttribute("download",i+".txt"),e.style.display="none",globalThis.document.body.appendChild(e),e.click(),globalThis.document.body.removeChild(e),this.dispatchEvent(new CustomEvent("transcript-downloaded",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}goToYoutube(){globalThis.open(`https://www.youtube.com/watch?v=${this.youtubeId}`)}print(){let e=this.transcriptTrack.cues,t=this.mediaTitle&&""!=this.mediaTitle.trim()?`${this.mediaTitle} (${this._getLocal(this.localization,"transcript","label")})`:this._getLocal(this.localization,"transcript","label"),i=globalThis.open("","","left=0,top=0,width=552,height=477,toolbar=0,scrollbars=0,status =0");i.document.body.innerHTML=`\n     <h1>${t}</h1>\n     ${Object.keys(e).map((t=>`<div style="display: table-row;">\n         ${this.hideTimestamps?"":`\n             <span style="display: table-cell;\n               font-size: 80%;\n               padding: 0 16px;\n               white-space: nowrap;\n               font-family: monospace;">\n               ${this._getHHMMSS(e[t].startTime)} - \n               ${this._getHHMMSS(e[t].endTime)}:\n             </span>`}\n         <span style="display: table-cell; line-height: 200%;">\n           ${e[t].text}\n         </span>\n       </div>`)).join("")}\n     `,i.document.close(),i.focus(),i.print(),i.addEventListener("afterprint",(e=>{i.close()})),this.dispatchEvent(new CustomEvent("transcript-printed",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}play(){this.__playing=!0,this.media&&this.media.play&&this.media.play(),this.dispatchEvent(new CustomEvent("play",{bubbles:!0,composed:!0,cancelable:!1,detail:this})),this.dispatchEvent(new CustomEvent("a11y-player-playing",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}pause(){this.__playing=!1,this.media&&this.media.pause&&this.media.pause(),this.dispatchEvent(new CustomEvent("pause",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}stop(){this.pause(),this.seek(0),this.dispatchEvent(new CustomEvent("stop",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}restart(){this.seek(0),this.play(),this.dispatchEvent(new CustomEvent("restart",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}rewind(e){e=void 0!==e?e:this.duration/20,this.seek(this.currentTime-e,0),this.dispatchEvent(new CustomEvent("backward",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}forward(e){e=void 0!==e?e:this.duration/20,this.seek(this.currentTime+e),this.dispatchEvent(new CustomEvent("forward",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}seek(e=0){this.mediaSeekable&&(this.media.seek(Math.max(0,Math.min(e,this.duration))),this._handleTimeUpdate(),this.dispatchEvent(new CustomEvent("seek",{bubbles:!0,composed:!0,cancelable:!1,detail:this})))}selectCaptionByKeyEvent(e){this.selectCaptionByKey(e.detail.value)}selectCaptionByKey(e){(e=parseInt(e))>-1&&(this.captionsTrack=this.loadedTracks.textTracks[e]),this.cc=e>-1}selectTranscriptByKeyEvent(e){this.selectTranscriptByKey(e.detail.value)}selectTranscriptByKey(e){(e=parseInt(e))>-1&&(this.transcriptTrack=this.loadedTracks.textTracks[e]),this.hideTranscript=e<0}getloadedTracks(){let e=this.querySelector("audio,video"),t=e?e.getAttribute("crossorigin"):void 0,i=null,a=this.source&&!this.source&&this.source.match(/webm|ogv|mov|mp4$/),s=(this.sources||[]).filter((e=>`${e.type||""}${e.kind||""}`.match(/video|mp4|webm|ogv/))).length>0,o=this.isYoutube||a||s;if(e&&(t||e.setAttribute("crossorigin",this.crossorigin),e.removeAttribute("autoplay"),e.removeAttribute("controls"),e.setAttribute("preload","metadata")),!this.youtubeId){let e=!(!this.querySelector("iframe")||!this.querySelector("iframe"))&&this.querySelector("iframe").src;!!e&&(e.match(/youtube(-\w*)*.com/)||e.src.match(/youtu.be/))&&e&&(this.youtubeId=e.replace(/.*\//g,""),o=!0,this.querySelector("iframe").remove())}return e?i=e:(i=globalThis.document.createElement(this.querySelectorAll('source[type*="audio"]').length>0||!o?"audio":"video"),t||i.setAttribute("crossorigin",this.crossorigin),i.setAttribute("preload","metadata"),this.querySelectorAll("source,track").forEach((e=>{e.parentNode===this&&i.appendChild(e)})),this.appendChild(i)),this.audioOnly="AUDIO"===i.tagName,i.style.width="100%",i.style.maxWidth="100%",(this.tracks||[]).forEach((e=>{let t=globalThis.document.createElement("track");Object.keys(e).forEach((i=>t.setAttribute(i,e[i]))),i.appendChild(t)})),(this.sources||[]).forEach((e=>{let t=globalThis.document.createElement("source");Object.keys(e).forEach((i=>t.setAttribute(i,e[i]))),i.appendChild(t)})),i.seek=e=>i.currentTime=e,this._addSourcesAndTracks(i,i),i}_getTrack(e){if(!e){let e=this.loadedTracks.textTracks.filter((e=>!0===e.default));return e?e[0].track:this.loadedTracks.textTracks[0].track}return e}selectTranscript(e){this.transcriptTrack=this._getTrack(e)}setPlaybackRate(e){e=null!==e?e:1,this.media.playbackRate=null!==e?e:1,globalThis.dispatchEvent(new CustomEvent("playback-rate-changed",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}setVolume(e=70){this.volume=Math.max(0,Math.min(e,100)),this.media&&(this.media.volume=e/100),globalThis.dispatchEvent(new CustomEvent("volume-changed",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}toggleCC(e){this.cc=void 0===e?!this.cc:e,globalThis.dispatchEvent(new CustomEvent("cc-toggle",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}get fullscreenTarget(){return this.shadowRoot&&this.shadowRoot.querySelector("#player-section")?this.shadowRoot.querySelector("#player-section"):this}toggleFullscreen(e){super.toggleFullscreen(e),globalThis.dispatchEvent(new CustomEvent("fullscreen-toggle",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}toggleLoop(e){this.loop=void 0===e?!this.loop:e,this.media.loop=!0===e,globalThis.dispatchEvent(new CustomEvent("loop-toggle",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}togglePlay(){this.__playing?this.pause():this.play(),globalThis.dispatchEvent(new CustomEvent("play-toggle",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}toggleMute(e){this.muted=void 0===e?!this.muted:e,globalThis.dispatchEvent(new CustomEvent("muted-toggle",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}toggleSettings(e){e=void 0===e?!this.__settingsOpen:e,this.__settingsOpen=e,this.dispatchEvent(new CustomEvent("settings-toggled",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}toggleSticky(e){e=void 0===e?!this.sticky:e,this.sticky!==e&&(this.sticky=e,this.dispatchEvent(new CustomEvent("player-sticky",{bubbles:!0,composed:!0,cancelable:!1,detail:this})))}toggleTranscript(e){(e=void 0===e?this.hideTranscript:e)&&!this.selectTranscriptByKey>-1&&this.selectTranscriptByKey(0),this.hideTranscript=!e,this.dispatchEvent(new CustomEvent("transcript-toggle",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}_addSourcesAndTracks(e){e.style.width="100%",e.style.maxWidth="100%",Object.keys(e.textTracks).forEach((t=>this._onAddTrack(e.textTracks[t]))),e.textTracks.onremovetrack=e=>this._onRemoveTrack(e.track),e.textTracks.onaddtrack=e=>this._onAddTrack(e.track);let t=e.querySelector("track[default]")?e.querySelector("track[default]"):e.querySelector("track"),i=Object.keys(e.textTracks).find((i=>t.label===e.textTracks[i].label&&t.kind===e.textTracks[i].kind&&t.srclang===e.textTracks[i].scrlang))||0;this.captionsTrack=e.textTracks[i],this.hideTranscript||(this.transcriptTrack=this.captionsTrack),this._handleTimeUpdate()}_handleCloseLink(){this.shadowRoot.querySelector("#link")&&this.shadowRoot.querySelector("#link").close&&this.shadowRoot.querySelector("#link").close()}_handleCopyLink(){let e=globalThis.document.createElement("textarea");this.pause(),e.value=this.shareLink,globalThis.document.body.appendChild(e),e.select(),globalThis.document.execCommand("copy"),globalThis.document.body.removeChild(e),globalThis.SimpleToast.requestAvailability().showSimpleToast({detail:{duration:3e3,text:`Copied to clipboard: ${this.shareLink}`}})}_handleCueSeek(e){this.standAlone||this.seek(e.startTime)}_handleMediaLoaded(e){this._handleTimeUpdate(),this.youtubeId||this.anchor.target!==this||this.seek(this._getSeconds(this.anchor.params.t||this.anchor.params.start||"0s"))}_handleSearchAdded(e){this.search=e.detail}_handleSpeedChanged(e){var t=l(e)[0];this.setPlaybackRate(t.value)}_handleSliderDragging(e){let t=!!this.shadowRoot&&this.shadowRoot.querySelector("#slider");if(t&&!t.disabled&&t.dragging&&this.__playing&&t.dragging){let e=setInterval((()=>{t.dragging||(this.play(),clearInterval(e))}));this.pause()}}_handleSliderChanged(e){let t=!!this.shadowRoot&&this.shadowRoot.querySelector("#slider");this.playing&&t.immediateValue!=this.__currentTime||this.seek(t.immediateValue)}_handleTimeUpdate(){this.__wait||(this.__currentTime=this.media&&this.media.currentTime&&this.media.currentTime>0?this.media.currentTime:0,this.__wait=!0,setTimeout((()=>{this.__wait=!1}),1e3))}_getTrackId(e){return this.loadedTracks&&Object.keys(this.loadedTracks.textTracks).find((t=>this.loadedTracks.textTracks[t]===e))||-1}_handleVolumeChanged(e){var t=l(e)[0];this.volume=t.value}_onAddTrack(e){null===this.captionsTrack&&(this.captionsTrack=e),e&&(e.mode="hidden");let t=setInterval((()=>{if(e.cues&&e.cues.length>0){clearInterval(t);let i=Object.keys(e.cues).map((t=>e.cues[t]));this._onRemoveTrack(e),this.__cues=this.cues.concat(i).sort(((e,t)=>{let i=e.startTime-t.startTime,a=e.endTime-t.endTime;return 0!==i?i:0!==a?a:e.track-t.track}))}}))}_onRemoveTrack(e){this.loadedTracks&&this.loadedTracks.textTracks&&Object.keys(this.loadedTracks.textTracks).filter((t=>this.loadedTracks.textTracks[t]!==e)),this.__cues=this.cues?this.cues.filter((t=>t.track!==e)):[]}firstUpdated(e){super.firstUpdated&&super.firstUpdated(e),this.style.setProperty("--a11y-media-transcript-max-height",this.height?"146px":"unset"),this.__loadedTracks=this.getloadedTracks(),this._handleMediaLoaded(),this.__loadedTracks.addEventListener("loadedmetadata",(e=>this._handleMediaLoaded(e))),this.__loadedTracks.addEventListener("timeupdate",(e=>{this._handleTimeUpdate(e)})),globalThis.dispatchEvent(new CustomEvent("responsive-element",{detail:{element:this,attribute:"responsive-size",relativeToParent:!0,sm:400,md:700,lg:1e3,xl:1500}})),globalThis.dispatchEvent(new CustomEvent("a11y-player",{bubbles:!0,composed:!0,cancelable:!1,detail:this})),this.__playerReady=!0}_setActiveCue(e){let t=e.detail.element,i=t.parentNode,a=null!=i?i.offsetTop:0;if(!this.disableScroll){let e=(t,i,a)=>{if(!(a<=0)){var s=(i-t.scrollTop)/a*10;setTimeout((()=>{t.scrollTop=t.scrollTop+s,t.scrollTop!==i&&e(t,i,a-10)}),10)}};e(t.parentNode.parentNode,t.offsetTop-a,250)}}_transcriptScroll(e){this.disableScroll=!this.disableScroll}_getHHMMSS(e,t){e=parseFloat(e),t=void 0===t?e:parseFloat(t);let i=e=>e<10?`0${e}`:e,a=(e,a,s)=>t>=a?i(Math.floor(e/a))+":":s;return a(e,3600,"")+a(e%3600,60,"00:")+i(Math.round(e%60))}_getSeconds(e=0){let t=e.replace(/[hm]{1,2}&?/g,":0").replace(/[s]{1,2}$/g,"").split(/:/);return 3600*(t.length>2?parseInt(t[t.length-3]):0)+60*(t.length>1?parseInt(t[t.length-2]):0)+(t.length>0?parseFloat(t[t.length-1]):0)}_getLocal(e,t,i){let a="";return void 0!==e&&void 0!==e[t]&&void 0!==e[t][i]?a=e[t][i]:void 0!==this.localizationDefaults&&void 0!==this.localizationDefaults[t]&&void 0!==this.localizationDefaults[t][i]&&(a=this.localizationDefaults[t][i]),a}}customElements.define(A.tag,A),
/**
 * Copyright 2021 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
globalThis.I18NManagerStore=globalThis.I18NManagerStore||{},globalThis.I18NManagerStore.requestAvailability=()=>(!globalThis.I18NManagerStore.instance&&globalThis.document&&globalThis.document.body&&(globalThis.I18NManagerStore.instance=globalThis.document.createElement("i18n-manager"),globalThis.document.body.appendChild(globalThis.I18NManagerStore.instance)),globalThis.I18NManagerStore.instance);const z=globalThis.I18NManagerStore.requestAvailability();class B extends t{constructor(){super(),this.windowControllers=new AbortController,this.fetchTargets={},this.elements=[],this.locales=new Set([]),this.lang=this.documentLang,this.dir=this.documentDir}get documentLang(){return globalThis.document.body.getAttribute("xml:lang")||globalThis.document.body.getAttribute("lang")||globalThis.document.documentElement.getAttribute("xml:lang")||globalThis.document.documentElement.getAttribute("lang")||globalThis.navigator.language||"en"}get documentDir(){return globalThis.document.body.getAttribute("xml:dir")||globalThis.document.body.getAttribute("dir")||globalThis.document.documentElement.getAttribute("xml:dir")||globalThis.document.documentElement.getAttribute("dir")||"ltr"}connectedCallback(){this.__ready=!0,globalThis.addEventListener("i18n-manager-register-element",this.registerLocalizationEvent.bind(this),{signal:this.windowControllers.signal}),globalThis.addEventListener("languagechange",this.changeLanguageEvent.bind(this),{signal:this.windowControllers.signal})}disconnectedCallback(){this.windowControllers.abort()}changeLanguageEvent(e){this.lang=e.detail}registerLocalizationEvent(e){let t=this.detailNormalize(e.detail);t.namespace&&t.localesPath&&t.locales&&this.registerLocalization(t)}detailNormalize(e){if(!e.namespace&&e.context&&(e.namespace=e.context.tagName.toLowerCase()),!e.updateCallback&&e.context&&(e.context.requestUpdate?e.updateCallback="requestUpdate":e.context.render&&(e.updateCallback="render")),!e.localesPath&&e.basePath&&(e.localesPath=`${decodeURIComponent(e.basePath)}/../locales`),e.context&&e.namespace){e.context.t&&(e.context._t={...e.context.t});let t=this.elements.filter((t=>{if(t.namespace==e.namespace&&t.localesPath&&t.locales)return!0}));t&&t.length&&t[0]&&(e.localesPath=t[0].localesPath,e.locales=t[0].locales)}return e}registerLocalization(e){(!e.context&&0===this.elements.filter((t=>t.namespace===e.namespace)).length||0===this.elements.filter((t=>t.context===e.context)).length)&&(e=this.detailNormalize(e),this.elements.push(e),e&&e.locales&&e.locales.forEach(this.locales.add,this.locales),this.lang&&this.__ready&&e.locales&&e.locales.includes(this.lang)&&(clearTimeout(this._debounce),this._debounce=setTimeout((()=>{this.updateLanguage(this.lang)}),0)))}static get tag(){return"i18n-manager"}async loadNamespaceFile(e,t=this.lang){const i=t.split("-");let a=this.elements.filter((a=>a.namespace===e&&(a.locales.includes(t)||a.locales.includes(i[0]))));if(a&&1===a.length){const e=a[0];var s="";return e.locales.includes(t)?s=`${e.localesPath}/${e.namespace}.${t}.json`:e.locales.includes(i[0])&&(s=`${e.localesPath}/${e.namespace}.${i[0]}.json`),""==s?{}:(this.fetchTargets[s]||(this.fetchTargets[s]=await fetch(s).then((e=>!(!e||!e.json)&&e.json()))),this.fetchTargets[s])}}async updateLanguage(e){if(e){const s=e.split("-"),o=this.elements.filter((t=>{try{return t.locales.includes(e)||t.locales.includes(s[0])}catch(e){console.error("i18n registration incorrect in:",t,e)}})),r=this.elements.filter((t=>!t.locales.includes(e)&&!t.locales.includes(s[0])));if(0!==r.length)for(var t in r){let e=r[t];e.context&&(e.context.t={...e.context._t},e.updateCallback&&e.context[e.updateCallback]())}for(var t in o){let r=o[t];var i="";if(r.locales.includes(e)?i=`${r.localesPath}/${r.namespace}.${e}.json`:r.locales.includes(s[0])&&(i=`${r.localesPath}/${r.namespace}.${s[0]}.json`),this.fetchTargets[i]){if(r.context){let e=this.fetchTargets[i];for(var a in e)r.context.t[a]=e[a];r.context.t={...r.context.t},r.updateCallback&&r.context[r.updateCallback]()}}else if(this.fetchTargets[i]=await fetch(i).then((e=>!(!e||!e.json)&&e.json())),r.context){for(var a in this.fetchTargets[i])r.context.t[a]=this.fetchTargets[i][a];r.context.t={...r.context.t},r.updateCallback&&r.context&&r.context[r.updateCallback]()}}}}static get observedAttributes(){return["lang","dir"]}attributeChangedCallback(e,t,i){"lang"!==e&&"dir"!==e||this.dispatchEvent(new CustomEvent(`${e}-changed`,{detail:{value:i}})),"lang"===e&&i&&this.__ready&&this.updateLanguage(i)}get lang(){return this.getAttribute("lang")}set lang(e){e?this.setAttribute("lang",e):this.removeAttribute("lang")}get dir(){return this.getAttribute("dir")}set dir(e){e?this.setAttribute("dir",e):this.removeAttribute("dir")}}globalThis.customElements.define(B.tag,B);globalThis.MediaBehaviors=globalThis.MediaBehaviors||{},globalThis.MediaBehaviors.Video={_sourceIsIframe(e){return"local"!=this.getVideoType(e)},cleanVideoSource(e,t){if("local"!=t&&"string"==typeof e){var i=e.split("?"),a="";if(e=i[0],2==i.length){let e=i[1].split("&"),t=e[0].split("="),s=Array.isArray(e.shift())?e.shift().join(""):e.shift();if("v"==t[0]){let e=void 0!==s&&""!==s?"?"+s:"";a=t[1]+e}}if(-1==e.indexOf("player.vimeo.com")&&-1!=e.indexOf("vimeo.com"))return-1!=e.indexOf("/videos/")&&(e=e.replace("/videos/","/")),e.replace("vimeo.com/","player.vimeo.com/video/");if(-1!=e.indexOf("youtube.com/watch"))return e.replace("youtube.com/watch","youtube.com/embed/")+a;if(-1!=e.indexOf("youtube-no-cookie.com/"))return e.replace("youtube-no-cookie.com/","youtube.com/")+a;if(-1!=e.indexOf("youtu.be"))return e.replace("youtu.be/","www.youtube.com/embed/")+a;if(-1!=e.indexOf("player.twitch.tv/")){if(i[1])return`${e}?${i[1].replace("&parent=www.example.com","")}`;return`https://player.twitch.tv/?channel=${e.replace("&parent=www.example.com","").split("/").pop()}`}if(-1!=e.indexOf("twitch.tv/videos/")){return`https://player.twitch.tv/?video=${e.replace("&parent=www.example.com","").split("/").pop()}`}if(-1!=e.indexOf("twitch.tv/")){return`https://player.twitch.tv/?channel=${e.replace("&parent=www.example.com","").split("/").pop()}`}if(-1!=e.indexOf("sketchfab.com")&&-1==e.indexOf("/embed"))return e+"/embed"}return e},getVideoType(e){let t=["aac","flac","mov","mp3","mp4","oga","ogg","ogv","wav","webm"],i=!1;if(-1!=e.indexOf("vimeo"))return"vimeo";if(-1!=e.indexOf("youtube")||-1!=e.indexOf("youtu.be"))return"youtube";if(-1!=e.indexOf("sketchfab.com"))return"sketchfab";if(-1!=e.indexOf("twitch.tv"))return"twitch";for(let a=0;a<t.length;a++)!i&&e.toLowerCase().indexOf("."+t[a])>-1&&(i=!0);return i?"local":"external"}};
/**
 * Copyright 2018 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
class O extends(c(function(e){return class extends e{_sourceIsIframe(e){return"local"!=this.getVideoType(e)}cleanVideoSource(e,t){if("local"!=t){var i=e.split("?"),a="";if(e=i[0],2==i.length){let e=i[1].split("&"),t=e[0].split("="),s=Array.isArray(e.shift())?e.shift().join(""):e.shift();if("v"==t[0]){let e=void 0!==s&&""!==s?"?"+s:"";a=t[1]+e}}if(-1==e.indexOf("player.vimeo.com")&&-1!=e.indexOf("vimeo.com"))return-1!=e.indexOf("/videos/")&&(e=e.replace("/videos/","/")),e.replace("vimeo.com/","player.vimeo.com/video/");if(-1!=e.indexOf("youtube.com/watch"))return e.replace("youtube.com/watch","youtube.com/embed/")+a;if(-1!=e.indexOf("player.twitch.tv/")){if(i[1])return`${e}?${i[1].replace("&parent=www.example.com","")}`;return`https://player.twitch.tv/?channel=${e.replace("&parent=www.example.com","").split("/").pop()}`}if(-1!=e.indexOf("twitch.tv/videos/")){return`https://player.twitch.tv/?video=${e.replace("&parent=www.example.com","").split("/").pop()}`}if(-1!=e.indexOf("twitch.tv/")){return`https://player.twitch.tv/?channel=${e.replace("&parent=www.example.com","").split("/").pop()}`}if(-1!=e.indexOf("youtube-no-cookie.com/"))return e.replace("youtube-no-cookie.com/","youtube.com/")+a;if(-1!=e.indexOf("youtu.be"))return e.replace("youtu.be/","www.youtube.com/embed/")+a;if(-1!=e.indexOf("sketchfab.com")&&-1==e.indexOf("/embed"))return e+"/embed"}return e}getVideoType(e){let t=["aac","flac","mov","mp3","mp4","oga","ogg","ogv","wav","webm"],i=!1;if(-1!=e.indexOf("vimeo"))return"vimeo";if(-1!=e.indexOf("youtube")||-1!=e.indexOf("youtu.be"))return"youtube";if(-1!=e.indexOf("sketchfab.com"))return"sketchfab";if(-1!=e.indexOf("twitch.tv"))return"twitch";for(let a=0;a<t.length;a++)!i&&e.toLowerCase().indexOf("."+t[a])>-1&&(i=!0);return i?"local":"external"}}}(function(e){return class extends e{constructor(){super(),this.schemaResourceID="",this.schemaMap={prefix:{oer:"http://oerschema.org/",schema:"http://schema.org/",dc:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",cc:"http://creativecommons.org/ns#",bib:"http://bib.schema.org"}}}static get properties(){return{...super.properties,schemaMap:{type:Object,readOnly:!0,observer:"_schemaMapChanged"}}}updated(e){super.updated&&super.updated(e),e.forEach(((e,t)=>{"schemaMap"==t&&this._schemaMapChanged(this[t],e)}))}_schemaMapChanged(e,t){if(void 0!==e){this.schemaResourceID=this.getAttribute("resource"),""!=this.schemaResourceID&&null!=this.schemaResourceID&&"null"!=this.schemaResourceID||(this.schemaResourceID=n(),this.setAttribute("resource",this.schemaResourceID));let t=e.prefix,a="";for(var i in t)t.hasOwnProperty(i)&&(a+=i+":"+t[i]+" ");""!=a&&this.setAttribute("prefix",a)}}}}(function(e){return class extends e{constructor(){super(),this.t||(this.t={})}static get properties(){return{...super.properties,t:{type:Object}}}registerLocalization(e){!e.namespace&&e.context&&e.context.tagName&&e.context.tagName&&(e.namespace=e.context.tagName.toLowerCase()),e.updateCallback||(e.context.requestUpdate?e.updateCallback="requestUpdate":e.context.render&&(e.updateCallback="render")),!e.localesPath&&e.basePath&&(e.localesPath=`${decodeURIComponent(e.basePath)}/../locales`),z&&z.registerLocalization(e)}}}(r))))){static get styles(){return[super.styles,i`:host{display:block;margin:var(--ddd-spacing-4) 0}.video-caption{font-style:italic;margin:0;padding:8px}a11y-media-player{box-shadow:var(--ddd-boxShadow-lg);--a11y-media-color:var(
            --video-player-color,
            var(--simple-colors-default-theme-accent-11, #111111)
          );--a11y-media-caption-color:var(
            --video-player-caption-color,
            var(--simple-colors-default-theme-grey-2, #eeeeee)
          );--a11y-media-bg-color:var(
            --video-player-bg-color,
            var(--simple-colors-default-theme-grey-2, #eeeeee)
          );--a11y-media-border-color:var(
            --video-player-border-color,
            var(--simple-colors-default-theme-accent-3, #dddddd)
          );--a11y-media-hover-color:var(
            --video-player-hover-color,
            var(--simple-colors-default-theme-accent-12, #000000)
          );--a11y-media-hover-bg-color:var(
            --video-player-hover-bg-color,
            var(--simple-colors-default-theme-accent-2, #eeeeee)
          );--a11y-media-accent-color:var(
            --video-player-accent-color,
            var(--simple-colors-default-theme-accent-9, #333333)
          );--a11y-media-faded-accent-color:var(
            --video-player-faded-accent-color,
            var(--simple-colors-default-theme-accent-8, #444444)
          );--a11y-media-disabled-color:var(
            --video-player-disabled-color,
            var(--simple-colors-default-theme-accent-5, #bbbbbb)
          )}`]}render(){return e` ${this.elementVisible?e`${this.isA11yMedia?e` <a11y-media-player accent-color="${this.accentColor}" ?audio-only="${this.audioOnly}" ?dark="${this.dark}" ?dark-transcript="${this.darkTranscript}" ?disable-interactive="${this.disableInteractive}" ?hide-timestamps="${this.hideTimestamps}" ?hide-transcript="${this.hideTranscript}" ?hide-youtube-link="${this.hideYoutubeLink}" id="${this.playerId}" @play="${this.playEvent}" @pause="${this.pauseEvent}" lang="${this.lang||"en"}" ?learning-mode="${this.learningMode}" ?linkable="${this.linkable}" preload="metadata" media-title="${this.mediaTitle||""}" .sources="${this.sourceProperties}" ?stand-alone="${this.standAlone}" sticky-corner="${this.stickyCorner||"none"}" thumbnail-src="${this.thumbnailSrc}" .tracks="${this.trackProperties}" .crossorigin="${this.crossorigin||"anonymous"}" .width="${this.width}" .height="${this.height}" youtube-id="${this.youtubeId}"> </a11y-media-player><slot hidden></slot>`:e` <div class="responsive-video-container" .lang="${this.lang||"en"}"> ${this.sandboxed?e``:e` <webview resource="${this.schemaResourceID}-video" .src="${this.sourceData&&this.sourceData[0]&&this.sourceData[0].src||void 0}" .width="${this.width||void 0}" .height="${this.height||void 0}" frameborder="0"> </webview>`} ${this.sandboxed||!this.iframed?e``:e` <iframe loading="lazy" resource="${this.schemaResourceID}-video" .src="${this.sourceData&&this.sourceData[0]&&this.sourceData[0].src||void 0}" width="${this.width}" height="${this.height}" frameborder="0" allow="autoplay; encrypted-media; fullscreen; picture-in-picture"></iframe> `} </div> <div id="videocaption" class="video-caption"> <p> ${this.mediaTitle} <span class="media-type print-only">(${this.t.embeddedMedia})</span> </p> <slot name="caption"></slot> </div> <slot hidden></slot>`}`:""}`}static get haxProperties(){return{canScale:{min:50,step:25},designSystem:{primary:!0,card:!0},canEditSource:!0,gizmo:{title:"Video",description:"This can present video in a highly accessible manner regardless of source.",icon:"av:play-circle-filled",color:"red",tags:["Audio / Video","Media","youtube","watch","vimeo","twitch","mp4","webm","ogg","video-player","a11y","media-player"],handles:[{type:"video",type_exclusive:!0,source:"source",title:"caption",caption:"caption",description:"caption",color:"primaryColor"}],meta:{author:"HAXTheWeb core team",outlineDesigner:!0,anchorLabel:"mediaTitle"}},settings:{configure:[{property:"source",title:"Source",description:"The URL for this media.",inputMethod:"haxupload",noCamera:!0,noVoiceRecord:!0,validationType:"url"},{property:"mediaTitle",title:"Title",description:"Simple title for under video",inputMethod:"textfield",validationType:"text"},{property:"accentColor",title:"Accent color",description:"Select the accent color for the player.",inputMethod:"colorpicker"},{property:"track",title:"Closed captions",description:"The URL for the captions file.",inputMethod:"haxupload",noCamera:!0,noVoiceRecord:!0,validationType:"url"}],advanced:[{property:"thumbnailSrc",title:"Thumbnail image",description:"Optional. The URL for a thumbnail/poster image.",inputMethod:"haxupload",noVoiceRecord:!0,validationType:"url"},{property:"learningMode",title:"Enable learning mode",description:"Disables fast forward and rewind.",inputMethod:"boolean"},{property:"hideYoutubeLink",title:"Remove open on YouTube button",description:"Removes the button for opening the video on YouTube.",inputMethod:"boolean"},{property:"linkable",title:"Include a share link?",description:"Provides a link to share the video.",inputMethod:"boolean"}],developer:[{property:"crossorigin",title:"Crossorigin",description:"Indicates whether to use CORS.",inputMethod:"select",options:{"":"",anonymous:"anonymous","use-credentials":"use-credentials"}},{property:"allowBackgroundPlay",title:"Allow background playback",description:"Videos pause / play automatically when tab loses focus; this enables video to play without tab having focus",inputMethod:"boolean"},{property:"darkTranscript",title:"Dark theme for transcript",description:"Enable dark theme for the transcript.",inputMethod:"boolean"},{property:"disableInteractive",title:"Disable Interactive",description:"Disable interactive mode that makes transcript clickable.",inputMethod:"boolean"},{property:"hideTimestamps",title:"Hide timestamps",description:"Hide the time stamps on the transcript.",inputMethod:"boolean"},{property:"hideTranscript",title:"Hide Transcript",description:"Hide transcript by default.",inputMethod:"boolean"},{property:"lang",title:"Language",description:"Language of the media.",inputMethod:"textfield",validationType:"text"}]},saveOptions:{unsetAttributes:["__utils","__stand-alone","colors","playing","__forcePaused"]},demoSchema:[{tag:"video-player",properties:{source:"https://www.youtube.com/watch?v=LrS7dqokTLE","data-width":"75","data-margin":"center"},content:""}]}}static get properties(){return{...super.properties,sourceType:{type:String},accentColor:{type:String,attribute:"accent-color",reflect:!0},crossorigin:{type:String,attribute:"crossorigin",reflect:!0},dark:{type:Boolean,attribute:"dark",reflect:!0},darkTranscript:{type:Boolean},disableInteractive:{type:Boolean},height:{type:String},hideTimestamps:{type:Boolean,attribute:"hide-timestamps"},hideTranscript:{type:Boolean,attribute:"hide-transcript"},id:{type:String,attribute:"id",reflect:!0},learningMode:{type:Boolean,attribute:"learning-mode"},lang:{type:String},linkable:{type:Boolean},mediaTitle:{type:String,attribute:"media-title",reflect:!0},hideYoutubeLink:{type:Boolean,attribute:"hide-youtube-link"},source:{type:String,reflect:!0},sources:{type:Array},sourceData:{type:Object},stickyCorner:{type:String,attribute:"sticky-corner",reflect:!0},track:{type:String},tracks:{type:Array},thumbnailSrc:{type:String,attribute:"thumbnail-src",reflect:!0},width:{type:String},playing:{type:Boolean,reflect:!0},allowBackgroundPlay:{type:Boolean,reflect:!0,attribute:"allow-background-play"}}}static get tag(){return"video-player"}querySelectorAll(e){return super.query&&super.querySelectorAll(e),[]}constructor(){super(),this.windowControllers=new AbortController,this.sourceType="",this.crossorigin="anonymous",this.dark=!1,this.darkTranscript=!1,this.disableInteractive=!1,this.hideTimestamps=!1,this.hideTranscript=!1,this.hideYoutubeLink=!1,this.lang="en",this.playing=!1,this.__setVisChange=!1,this.allowBackgroundPlay=!1,this.learningMode=!1,this.linkable=!1,this.sources=[],this.stickyCorner="none",this.tracks=[],this.source="",this.observer.observe(this,{childList:!0,subtree:!1}),this.t=this.t||{},this.t={...this.t,embeddedMedia:"embedded media"},this.registerLocalization({context:this,localesPath:new URL(new URL("05de4316.json",import.meta.url).href,import.meta.url).href+"/../",locales:["es"]})}disconnectedCallback(){this.__setVisChange&&(this.__setVisChange=!1,this.windowControllers.abort()),this.observer&&this.observer.disconnect&&this.observer.disconnect(),super.disconnectedCallback()}get html5(){return e` ${this.sourceData.filter((e=>"youtube"!==e.type)).map((t=>{e` <source .src="${t.src||void 0}" .type="${t.type||void 0}"> `}))} ${this.trackData.map((e=>{e.src,e.kind,e.label,e.lang}))} `}get iframed(){return!(!(this.sourceData&&this.sourceData.length>0&&void 0!==this.sourceData[0]&&globalThis.MediaBehaviors.Video._sourceIsIframe(this.sourceData[0].src))||this.sandboxed)}get isA11yMedia(){return!this.sandboxed&&("youtube"==this.sourceType||"local"==this.sourceType||this.sourceData.length<1)}get observer(){return new MutationObserver((()=>this.setSourceData()))}get sandboxed(){if(this.sourceData&&this.sourceData.length>0&&void 0!==typeof this.sourceData[0]&&globalThis.MediaBehaviors.Video._sourceIsIframe(this.sourceData[0].src)){if("function"==typeof globalThis.document.createElement("webview").reload)return!0}return!1}get sourceProperties(){let e="string"==typeof this.sources?JSON.parse(this.sources):(this.sources||[]).slice();return this.source&&e.unshift({src:this.source}),e&&e.length>0&&e.forEach((e=>{e.type=e.type||this._computeMediaType(e.src),e.src=this._computeSRC(e.src,e.type)})),e}get trackProperties(){let e="string"==typeof this.tracks?JSON.parse(this.tracks):(this.tracks||[]).slice();return this.track&&e.unshift({src:this.track}),e&&e.length>0&&e.forEach((e=>{e.srclang=e.srclang||this.lang,e.kind=e.kind||"subtitles",e.label=e.label||e.kind||e.lang})),e}get sourceData(){let e=(this.sourceProperties||[]).slice();return this.querySelectorAll("video source, audio source, iframe").forEach((e=>{this.sources.filter((t=>t.src===e.src)).length<1&&this.sources.unshift({src:e.src,type:e.type||this._computeMediaType(e.src)})})),e}get audioOnly(){return this.sourceData.filter((e=>e.type.indexOf("audio")>-1)).length>1}get standAlone(){return void 0===this.trackData||null===this.trackData||this.trackData.length<1}get trackData(){let e="string"==typeof this.tracks?(JSON.parse(this.tracks)||[]).slice():(this.tracks||[]).slice();return this.querySelectorAll("video track, audio track").forEach((e=>{if(this.tracks.filter((t=>t.src===e.src)).length<1){let t={src:e.src};e.lang&&(t.lang=e.lang),e.srclang&&(t.srclang=e.srclang),e.label&&(t.label=e.label),e.kind&&(t.kind=e.kind),this.tracks.unshift(t)}e.remove()})),void 0!==this.track&&null!==this.track&&""!==this.track&&e.push({src:this.track,srclang:this.lang,label:"en"===this.lang?"English":this.lang,kind:"subtitles"}),e}get youtubeId(){if(this.sourceData&&this.sourceData[0]&&"youtube"===this.sourceType)return this._computeSRC(this.sourceData[0].src).replace(/.*\/embed\//,"")}get playerId(){return`${this.id||this.schemaResourceID}-media`}_computeMediaType(e){let t="",i=(i,a)=>{a.forEach((a=>{""===t&&void 0!==typeof e&&null!==e&&e.toLowerCase().indexOf("."+a)>-1&&(t=i+"/"+a)}))};return i("audio",["aac","flac","mp3","oga","wav"]),i("video",["mov","mp4","ogv","webm"]),t}_computeSRC(e,t){return null!==e&&void 0!==typeof e&&(t=t||globalThis.MediaBehaviors.Video.getVideoType(e),e=globalThis.MediaBehaviors.Video.cleanVideoSource(e,t),"vimeo"==t?(this.vimeoTitle?e+="?title=1":e+="?title=0",this.vimeoByline?e+="&byline=1":e+="&byline=0",this.vimeoPortrait?e+="&portrait=1":e+="&portrait=0"):"twitch"==t&&(e.indexOf("?")>-1?e+="&parent="+globalThis.location.hostname:e+="?parent="+globalThis.location.hostname)),e}haxHooks(){return{postProcessNodeToContent:"haxpostProcessNodeToContent",inlineContextMenu:"haxinlineContextMenu"}}haxinlineContextMenu(e){e.ceButtons=[{icon:"hax:anchor",callback:"haxClickTimeCode",label:"Copy current timecode"}]}haxClickTimeCode(e){return this.pause(),d(parseInt(this.currentTime)),!0}haxpostProcessNodeToContent(e){return e=(e=e.replace(' sources="[]",',"")).replace(' tracks="[]",',"")}setSourceData(){let e=this.source;this.source="",this.source=e,this.sourceData&&this.sourceData.length>0&&void 0!==this.sourceData[0]&&void 0!==this.sourceData[0].src&&(this.sourceType=globalThis.MediaBehaviors.Video.getVideoType(this.sourceData[0].src))}playEvent(e){this.playing=e.detail.__playing}pauseEvent(e){this.playing=e.detail.__playing}updated(e){super.updated(e),e.forEach(((e,t)=>{if("source"===t&&this.sourceType&&void 0!==e){let e=globalThis.MediaBehaviors.Video.getVideoType(this.sourceData[0].src);e!=this.sourceType&&(this.sourceType=e,this.elementVisible&&(this.elementVisible=!1,setTimeout((()=>{this.elementVisible=!0}),0)))}}))}firstUpdated(e){super.firstUpdated&&super.firstUpdated(e),e.forEach(((e,t)=>{"allowBackgroundPlay"===t&&this[t]&&this.__setVisChange?(this.__setVisChange=!1,this.windowControllers.abort()):"allowBackgroundPlay"!==t||this[t]||this.__setVisChange||(this.__setVisChange=!0,this.windowControllers=new AbortController,globalThis.document.addEventListener("visibilitychange",this._visChange.bind(this),{signal:this.windowControllers.signal}))})),this.sourceData&&this.sourceData.length>0&&void 0!==this.sourceData[0]&&void 0!==this.sourceData[0].src&&(this.sourceType=globalThis.MediaBehaviors.Video.getVideoType(this.sourceData[0].src))}get currentTime(){return this.shadowRoot?this.shadowRoot.querySelector("a11y-media-player").currentTime:0}restart(){this.pause(),this.seek(0),this.play()}pause(){this.shadowRoot&&this.shadowRoot.querySelector("a11y-media-player").__playing&&this.shadowRoot.querySelector("a11y-media-player").pause()}play(){this.shadowRoot&&!this.shadowRoot.querySelector("a11y-media-player").__playing&&this.shadowRoot.querySelector("a11y-media-player").play()}seek(e){this.shadowRoot&&(this.shadowRoot.querySelector("a11y-media-player").__playing||this.play(),setTimeout((()=>{this.shadowRoot.querySelector("a11y-media-player").seek(parseInt(e))}),0))}_visChange(e){setTimeout((()=>{"visible"===globalThis.document.visibilityState&&!this.playing&&this.__forcePaused?(this.__forcePaused=!1,this.shadowRoot.querySelector("a11y-media-player").togglePlay()):"hidden"===document.visibilityState&&this.playing?(this.__forcePaused=!0,this.shadowRoot.querySelector("a11y-media-player").togglePlay()):this.__forcePaused=!1}),500)}}customElements.define(O.tag,O);export{O as VideoPlayer};
